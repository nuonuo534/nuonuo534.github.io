<!DOCTYPE html><html lang="zh-cn"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.0.4"><!-- Canonical URL --><link rel="canonical" href="https://astro-yi-nu.vercel.app/search/"><!-- Primary Meta Tags --><meta name="title" content="Astro Theme Yi"><meta name="description" content="Welcome to my independent blog website! "><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://astro-yi-nu.vercel.app/search/"><meta property="og:title" content="Astro Theme Yi"><meta property="og:description" content="Welcome to my independent blog website! "><meta property="og:image" content="https://astro-yi-nu.vercel.app/avatar.png"><!-- <meta property="og:image:alt" content={site.description}/> --><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://astro-yi-nu.vercel.app/search/"><meta property="twitter:title" content="Astro Theme Yi"><meta property="twitter:description" content="Welcome to my independent blog website! "><meta property="twitter:image" content="https://astro-yi-nu.vercel.app/avatar.png"><meta httpEquiv="X-UA-Compatible" content="IE=edge"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="sitemap" href="/sitemap-0.xml"><title>Astro Theme Yi</title><script src="/toggle-theme.js"></script><!-- Google tag (gtag.js) --><link rel="stylesheet" href="/./_astro/WalineComment.U328MhuE.css">
<link rel="stylesheet" href="/./_astro/about.D5pCek1z.css">
<link rel="stylesheet" href="/./_astro/_slug_._gWhlhrE.css">
<style>#donate-item-img{filter:grayscale(1)}#donate-item-img:hover{filter:blur(0px);cursor:pointer}.esa-sponsor{position:relative;width:100%;margin:40px 0}.esa-sponsor .qrshow{position:absolute;width:200px;height:200px;cursor:pointer;left:calc(50% - 100px);top:-170px;z-index:999;display:none;box-shadow:0 1px 15px #1b1f2326,0 0 1px #6a737d59}
[data-astro-image]{width:100%;height:auto;-o-object-fit:var(--fit);object-fit:var(--fit);-o-object-position:var(--pos);object-position:var(--pos);aspect-ratio:var(--w) / var(--h)}[data-astro-image=responsive]{max-width:calc(var(--w) * 1px);max-height:calc(var(--h) * 1px)}[data-astro-image=fixed]{width:calc(var(--w) * 1px);height:calc(var(--h) * 1px)}
</style></head><body class="bg-skin-secondary relative"> <header class="fixed top-0 w-full bg-skin-fill text-skin-base z-10"> <div class="flex items-center justify-between container"> <div class="block xl:hidden"> <button type="button" id="menu-icon" class="header-btn" title="Menu"> <i class="ri-menu-fill"></i> </button> <button type="button" id="menu-icon-close" class="header-btn hidden" title="Menu"> <i class="ri-close-fill"></i> </button> <script type="module">let t=document.getElementById("menu-icon"),n=document.getElementById("menu-icon-close"),s=document.getElementById("mobile-menu"),e=document.getElementById("aside-btn"),d=document.getElementById("aside-close-btn"),l=document.getElementById("personal-info");t.addEventListener("click",()=>{e&&e.classList.contains("hidden")&&(e.classList.toggle("hidden"),d.classList.toggle("hidden"),l.classList.toggle("hidden")),t.classList.toggle("hidden"),n.classList.toggle("hidden"),s.classList.toggle("hidden")});n.addEventListener("click",()=>{n.classList.toggle("hidden"),s.classList.toggle("hidden"),t.classList.toggle("hidden")});</script> </div> <a class="text-2xl p-4" href="/">Astro Theme Yi</a> <div class="flex items-center"> <div class="hidden xl:block"> <div class="flex items-center space-x-5 pr-4"> <div class="box relative h-10 w-auto flex items-center" data-astro-cid-eimmu3lg> <a href="/blog/1" target="_self" class="hover:header-link-hover" data-astro-cid-eimmu3lg> <i class="ri-draft-line" data-astro-cid-eimmu3lg></i> Blog  </a>  </div> <div class="box relative h-10 w-auto flex items-center" data-astro-cid-eimmu3lg> <a href="/feed/1" target="_self" class="hover:header-link-hover" data-astro-cid-eimmu3lg> <i class="ri-lightbulb-flash-line" data-astro-cid-eimmu3lg></i> Feed  </a>  </div> <div class="box relative h-10 w-auto flex items-center" data-astro-cid-eimmu3lg> <a href="/archive/1" target="_self" class="hover:header-link-hover" data-astro-cid-eimmu3lg> <i class="ri-archive-line" data-astro-cid-eimmu3lg></i> Archive  </a>  </div> <div class="box relative h-10 w-auto flex items-center" data-astro-cid-eimmu3lg> <a href="/message" target="_self" class="hover:header-link-hover" data-astro-cid-eimmu3lg> <i class="ri-chat-1-line" data-astro-cid-eimmu3lg></i> Message  </a>  </div> <div class="box relative h-10 w-auto flex items-center" data-astro-cid-eimmu3lg> <a href="/search" target="_self" class="header-link-active hover:header-link-hover" data-astro-cid-eimmu3lg> <i class="ri-search-line" data-astro-cid-eimmu3lg></i> Search  </a>  </div> <div class="box relative h-10 w-auto flex items-center" data-astro-cid-eimmu3lg> <a href="javascript:void(0);" target="_self" class="hover:header-link-hover" data-astro-cid-eimmu3lg> <i class="ri-more-fill" data-astro-cid-eimmu3lg></i> More <i class="ri-arrow-down-s-line" data-astro-cid-eimmu3lg></i> </a> <div class="dropdown cursor-pointer border rounded bg-skin-fill p-4" data-astro-cid-eimmu3lg> <ul class="space-y-4 w-28" data-astro-cid-eimmu3lg> <li class="text-center hover:text-skin-active select-none" data-astro-cid-eimmu3lg> <i class="ri-information-line" data-astro-cid-eimmu3lg></i> <a target="_self" href="/about" data-astro-cid-eimmu3lg>About</a> </li><li class="text-center hover:text-skin-active select-none" data-astro-cid-eimmu3lg> <i class="ri-user-5-line" data-astro-cid-eimmu3lg></i> <a target="_self" href="/friends" data-astro-cid-eimmu3lg>Friends</a> </li> </ul> </div> </div>  </div> </div> <button type="button" id="theme-btn" class="header-btn" title="Toggles light & dark" aria-label="auto" aria-live="polite"> <i id="moon-icon" class="ri-sun-line"></i> <i id="sun-icon" class="ri-moon-line"></i> </button> <div class="block xl:hidden"> <button type="button" id="aside-btn" class="header-btn" title="Open Aside Bar" aria-label="auto" aria-live="polite"> <i class="ri-user-line"></i> </button> <button type="button" id="aside-close-btn" class="header-btn hidden" title="Close Aside Bar" aria-label="auto" aria-live="polite"> <i class="ri-close-fill"></i> </button> <div id="blog-aside" class="absolute top-16 bg-skin-fill right-0 blog-aside hidden"></div> <script type="module">let t=document.getElementById("aside-btn"),n=document.getElementById("aside-close-btn"),e=document.getElementById("menu-icon"),d=document.getElementById("menu-icon-close"),l=document.getElementById("mobile-menu"),s=document.getElementById("personal-info");t.addEventListener("click",()=>{e&&e.classList.contains("hidden")&&(e.classList.toggle("hidden"),d.classList.toggle("hidden"),l.classList.toggle("hidden")),t.classList.toggle("hidden"),n.classList.toggle("hidden"),s.classList.toggle("hidden")});n.addEventListener("click",()=>{n.classList.toggle("hidden"),s.classList.toggle("hidden"),t.classList.toggle("hidden")});</script> </div> </div> </div> <div id="mobile-menu" class="hidden text-center overflow-y-auto pb-8" style="height: calc(100vh - 64px)"> <div class="py-2"> <a class=" hover:text-skin-active" href="/blog/1"> <i class="ri-draft-line"></i> <span>Blog</span> </a>  <div class="space-y-4 text-sm">  </div> </div><div class="py-2"> <a class=" hover:text-skin-active" href="/feed/1"> <i class="ri-lightbulb-flash-line"></i> <span>Feed</span> </a>  <div class="space-y-4 text-sm">  </div> </div><div class="py-2"> <a class=" hover:text-skin-active" href="/archive/1"> <i class="ri-archive-line"></i> <span>Archive</span> </a>  <div class="space-y-4 text-sm">  </div> </div><div class="py-2"> <a class=" hover:text-skin-active" href="/message"> <i class="ri-chat-1-line"></i> <span>Message</span> </a>  <div class="space-y-4 text-sm">  </div> </div><div class="py-2"> <a class=" hover:text-skin-active" href="/search"> <i class="ri-search-line"></i> <span>Search</span> </a>  <div class="space-y-4 text-sm">  </div> </div><div class="py-2"> <a class=" hover:text-skin-active" href="javascript:void(0);"> <i class="ri-more-fill"></i> <span>More</span> </a> <div class="divider-horizontal"></div> <div class="space-y-4 text-sm"> <a class="block hover:text-skin-active" href="/about"> <i class="ri-information-line"></i> <span>About</span> </a><a class="block hover:text-skin-active" href="/friends"> <i class="ri-user-5-line"></i> <span>Friends</span> </a> </div> </div> </div> <div id="personal-info" class="hidden break-all overflow-y-auto pb-8" style="height: calc(100vh - 64px)"> <img class="avatar my-4 mx-auto" src="/avatar.png" alt="avatar"> <div class="mb-2 text-center">Actions speak louder than words.</div> <div class="flex items-center justify-center flex-wrap"> <a title="telegram" href="xxxxxxx" target="_blank"> <i class="ri-telegram-fill text-2xl mr-2 cursor-pointer"></i> </a><a title="twitter" href="xxxxxxx" target="_blank"> <i class="ri-twitter-fill text-2xl mr-2 cursor-pointer"></i> </a><a title="instagram" href="xxxxxxx" target="_blank"> <i class="ri-instagram-fill text-2xl mr-2 cursor-pointer"></i> </a><a title="github" href="xxxxxxx" target="_blank"> <i class="ri-github-fill text-2xl mr-2 cursor-pointer"></i> </a><a title="rss" href="xxxxxxx" target="_blank"> <i class="ri-rss-fill text-2xl mr-2 cursor-pointer"></i> </a> </div> <div class="divider-horizontal-mini"></div> <div class="text-center"> <div> <i class="ri-folder-line menu-icon"></i>分类 </div> <div class="my-2 break-all truncate"> <a class="hover:text-skin-active" title="uncategorized (8)" href="/category/uncategorized"> uncategorized (8) </a> </div> <div class="divider-horizontal-mini"></div>
          <div class="text-center"> <i class="ri-price-tag-3-line menu-icon"></i> 标签 </div> <div class="my-2 break-all truncate"> <a class="hover:text-skin-active my-2" title="lerna" href="/tags/lerna">lerna (1)</a> </div><div class="my-2 break-all truncate"> <a class="hover:text-skin-active my-2" title="docker" href="/tags/docker">docker (1)</a> </div><div class="my-2 break-all truncate"> <a class="hover:text-skin-active my-2" title="error" href="/tags/error">error (2)</a> </div><div class="my-2 break-all truncate"> <a class="hover:text-skin-active my-2" title="git" href="/tags/git">git (1)</a> </div><div class="my-2 break-all truncate"> <a class="hover:text-skin-active my-2" title="h5" href="/tags/h5">h5 (1)</a> </div><div class="my-2 break-all truncate"> <a class="hover:text-skin-active my-2" title="sh" href="/tags/sh">sh (1)</a> </div><div class="my-2 break-all truncate"> <a class="hover:text-skin-active my-2" title="设计模式" href="/tags/设计模式">设计模式 (1)</a> </div> </div> </div> </header> <main class="container p-4 pt-20 text-skin-base pb-32 min-h-full relative" id="app"> <div class="grid grid-cols-4 gap-8"> <div class="col-span-4 xl:col-span-3">  <div class="text-2xl mb-4 text-skin-base">搜索</div> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="ZMbd2" component-url="/./_astro/Search.C__uslH4.js" component-export="Search" renderer-url="/./_astro/client.CTG5en4l.js" props="{&quot;posts&quot;:[1,[[0,{&quot;id&quot;:[0,&quot;前端工程化/lerna.md&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;lerna学习&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;lerna&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;4 min read&quot;],&quot;minutes&quot;:[0,3.5],&quot;time&quot;:[0,210000],&quot;words&quot;:[0,700]}]}],&quot;body&quot;:[0,&quot;### 常用命令\n#### lerna init\n初始化一个lerna项目\n固定模式（默认）：lerna init\n独立模式：lerna init ----independent\n#### lerna bootstrap\n安装所有packages的依赖项并且连接本地包的交叉依赖项。\n#### lerna import\n导入存在的包\n**案例1：**把路径为~/Users/Product的包导入到名为utilites的包里。\nlerna import ~/Users/Product --dest=utilities\n#### lerna add\n将本地或者远程的包作为依赖项添加到当前的packages中，每次只能添加一个包。\n案例1： 添加远程依赖包\&quot;chalk\&quot;到feu-ui的开发依赖库中，执行如下命令：\nlerna add chalk --scope=feu-ui --dev\n案例2： 添加本地包feu-tools到feu-app的依赖库中，执行如下命令：\nlerna add feu-tools --scope=feu-app\n#### lerna create\n创建一个lerna管理的package包\n案例1：\nlerna create feu-tools\n#### lerna clean\n删除所有包下面的node_modules目录，也可以删除指定包下面的node_modules。\n注意： 不会删除package.json里面的依赖项定义，也不会删除root目录的node_modules。\n案例1: 只删除feu-ui包下面的node_modules目录\nlerna clean --scope=feu-ui\n#### lerna ls\n列出所有公开的包（排除private=true的）\n#### lerna changed\n检查自上次发布以来有哪些包有更新。\n#### lerna diff\n查看自上次发布以来的所有包或者指定包的git diff变化。\n#### lerna run\n在包含该脚本命令的每个package内部执行npm script脚本命令,也可以指定在某个package下执行。\n#### 在feu-ui包中执行build脚本命令\nlerna run build --scope=feu-ui\n#### lerna exec\n在每个包中执行任意命令，也可以指定在某个package下执行。\n案例1：\n$ lerna exec -- npm view \\$LERNA_PACKAGE_NAME\n#### lerna link\n将相互依赖的所有包Symlink链接在一起。\n#### lerna version\n版本迭代。\n执行此命令，做了这几件事：\n\n标识自上个标记版本依赖有更新的包。\n提示输入新版本。\n修改包元数据以反映新版本，在根目录和每个包中运行适当的生命周期脚本。\n提交这些改动并标记提交。\n推送到git远端。\n\n版本更新原则：\n\n存在feat提交： 需要更新minor版本\n存在fix提交： 需要更新patch版本\n存在BREAKING CHANGE提交： 需要更新大版本\n\n#### lerna publish\n发布需要发布的包，此命令可以既包含lerna version的工作，也可以单纯的只做发布操作。\n根据不同的管理模式行为会不太一样。参考管理模式章节。\n注意： 不会发布标记为私有（package.json中private=true）的包。\n#### lerna publish\n发布自上次发布以来有更新的包，包含了lerna version的工作。\n#### lerna publish from-git\n显示发布当前提交中标记的包，类似于先独立执行lerna version后，再执行此命令进行发布。\n#### lerna publish from-package\n显示发布npm registry中不存在的最新版本的包。&quot;],&quot;filePath&quot;:[0,&quot;src/content/blog/前端工程化/lerna.md&quot;],&quot;digest&quot;:[0,&quot;e3ce10d6369fbfb4&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h3 id=\&quot;常用命令\&quot;&gt;常用命令&lt;/h3&gt;\n&lt;h4 id=\&quot;lerna-init\&quot;&gt;lerna init&lt;/h4&gt;\n&lt;p&gt;初始化一个lerna项目\n固定模式（默认）：lerna init\n独立模式：lerna init ----independent&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-bootstrap\&quot;&gt;lerna bootstrap&lt;/h4&gt;\n&lt;p&gt;安装所有packages的依赖项并且连接本地包的交叉依赖项。&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-import\&quot;&gt;lerna import&lt;/h4&gt;\n&lt;p&gt;导入存在的包\n**案例1：**把路径为~/Users/Product的包导入到名为utilites的包里。\nlerna import ~/Users/Product —dest=utilities&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-add\&quot;&gt;lerna add&lt;/h4&gt;\n&lt;p&gt;将本地或者远程的包作为依赖项添加到当前的packages中，每次只能添加一个包。\n案例1： 添加远程依赖包”chalk”到feu-ui的开发依赖库中，执行如下命令：\nlerna add chalk —scope=feu-ui —dev\n案例2： 添加本地包feu-tools到feu-app的依赖库中，执行如下命令：\nlerna add feu-tools —scope=feu-app&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-create\&quot;&gt;lerna create&lt;/h4&gt;\n&lt;p&gt;创建一个lerna管理的package包\n案例1：\nlerna create feu-tools&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-clean\&quot;&gt;lerna clean&lt;/h4&gt;\n&lt;p&gt;删除所有包下面的node_modules目录，也可以删除指定包下面的node_modules。\n注意： 不会删除package.json里面的依赖项定义，也不会删除root目录的node_modules。\n案例1: 只删除feu-ui包下面的node_modules目录\nlerna clean —scope=feu-ui&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-ls\&quot;&gt;lerna ls&lt;/h4&gt;\n&lt;p&gt;列出所有公开的包（排除private=true的）&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-changed\&quot;&gt;lerna changed&lt;/h4&gt;\n&lt;p&gt;检查自上次发布以来有哪些包有更新。&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-diff\&quot;&gt;lerna diff&lt;/h4&gt;\n&lt;p&gt;查看自上次发布以来的所有包或者指定包的git diff变化。&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-run\&quot;&gt;lerna run&lt;/h4&gt;\n&lt;p&gt;在包含该脚本命令的每个package内部执行npm script脚本命令,也可以指定在某个package下执行。&lt;/p&gt;\n&lt;h4 id=\&quot;在feu-ui包中执行build脚本命令\&quot;&gt;在feu-ui包中执行build脚本命令&lt;/h4&gt;\n&lt;p&gt;lerna run build —scope=feu-ui&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-exec\&quot;&gt;lerna exec&lt;/h4&gt;\n&lt;p&gt;在每个包中执行任意命令，也可以指定在某个package下执行。\n案例1：\n$ lerna exec — npm view $LERNA_PACKAGE_NAME&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-link\&quot;&gt;lerna link&lt;/h4&gt;\n&lt;p&gt;将相互依赖的所有包Symlink链接在一起。&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-version\&quot;&gt;lerna version&lt;/h4&gt;\n&lt;p&gt;版本迭代。\n执行此命令，做了这几件事：&lt;/p&gt;\n&lt;p&gt;标识自上个标记版本依赖有更新的包。\n提示输入新版本。\n修改包元数据以反映新版本，在根目录和每个包中运行适当的生命周期脚本。\n提交这些改动并标记提交。\n推送到git远端。&lt;/p&gt;\n&lt;p&gt;版本更新原则：&lt;/p&gt;\n&lt;p&gt;存在feat提交： 需要更新minor版本\n存在fix提交： 需要更新patch版本\n存在BREAKING CHANGE提交： 需要更新大版本&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-publish\&quot;&gt;lerna publish&lt;/h4&gt;\n&lt;p&gt;发布需要发布的包，此命令可以既包含lerna version的工作，也可以单纯的只做发布操作。\n根据不同的管理模式行为会不太一样。参考管理模式章节。\n注意： 不会发布标记为私有（package.json中private=true）的包。&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-publish-1\&quot;&gt;lerna publish&lt;/h4&gt;\n&lt;p&gt;发布自上次发布以来有更新的包，包含了lerna version的工作。&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-publish-from-git\&quot;&gt;lerna publish from-git&lt;/h4&gt;\n&lt;p&gt;显示发布当前提交中标记的包，类似于先独立执行lerna version后，再执行此命令进行发布。&lt;/p&gt;\n&lt;h4 id=\&quot;lerna-publish-from-package\&quot;&gt;lerna publish from-package&lt;/h4&gt;\n&lt;p&gt;显示发布npm registry中不存在的最新版本的包。&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;常用命令&quot;],&quot;text&quot;:[0,&quot;常用命令&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-init&quot;],&quot;text&quot;:[0,&quot;lerna init&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-bootstrap&quot;],&quot;text&quot;:[0,&quot;lerna bootstrap&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-import&quot;],&quot;text&quot;:[0,&quot;lerna import&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-add&quot;],&quot;text&quot;:[0,&quot;lerna add&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-create&quot;],&quot;text&quot;:[0,&quot;lerna create&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-clean&quot;],&quot;text&quot;:[0,&quot;lerna clean&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-ls&quot;],&quot;text&quot;:[0,&quot;lerna ls&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-changed&quot;],&quot;text&quot;:[0,&quot;lerna changed&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-diff&quot;],&quot;text&quot;:[0,&quot;lerna diff&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-run&quot;],&quot;text&quot;:[0,&quot;lerna run&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;在feu-ui包中执行build脚本命令&quot;],&quot;text&quot;:[0,&quot;在feu-ui包中执行build脚本命令&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-exec&quot;],&quot;text&quot;:[0,&quot;lerna exec&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-link&quot;],&quot;text&quot;:[0,&quot;lerna link&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-version&quot;],&quot;text&quot;:[0,&quot;lerna version&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-publish&quot;],&quot;text&quot;:[0,&quot;lerna publish&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-publish-1&quot;],&quot;text&quot;:[0,&quot;lerna publish&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-publish-from-git&quot;],&quot;text&quot;:[0,&quot;lerna publish from-git&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;lerna-publish-from-package&quot;],&quot;text&quot;:[0,&quot;lerna publish from-package&quot;]}]]],&quot;imagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;lerna学习&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;lerna&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;4 min read&quot;],&quot;minutes&quot;:[0,3.5],&quot;time&quot;:[0,210000],&quot;words&quot;:[0,700]}]}]}]}],&quot;collection&quot;:[0,&quot;blog&quot;],&quot;slug&quot;:[0,&quot;前端工程化/lerna&quot;],&quot;render&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;docker/常用命令.md&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;常用命令&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;docker&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;1 min read&quot;],&quot;minutes&quot;:[0,0.345],&quot;time&quot;:[0,20700],&quot;words&quot;:[0,69]}]}],&quot;body&quot;:[0,&quot;1、清除悬空镜像\n```go\ndocker rmi $(docker images -f \&quot;dangling=true\&quot; -q)\n// 等价于\n-a Remove all unused images, not just dangling ones\n-f 不提示确认\ndocker image prune\n// it will remove both unused and dangling images.\ndocker system prune -a  \n```\n\n2、volumes文件做持久化缓存，文件更新执行docker build 不更新&quot;],&quot;filePath&quot;:[0,&quot;src/content/blog/docker/常用命令.md&quot;],&quot;digest&quot;:[0,&quot;062fee879a5f9d1c&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;1、清除悬空镜像&lt;/p&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;link rel=\&quot;stylesheet\&quot; href=\&quot;/./_astro/ec.7l6n5.css\&quot;&gt;&lt;script type=\&quot;module\&quot; src=\&quot;/./_astro/ec.8zarh.js\&quot;&gt;&lt;/script&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;go\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;docker rmi $(docker images &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;-&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;f &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;dangling=true\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;-&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;q)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 等价于&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;-&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;a Remove all unused images, not just dangling ones&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;-&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;f 不提示确认&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;docker image prune&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// it will remove both unused and dangling images.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;docker system prune &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;-&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;a&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;docker rmi $(docker images -f &amp;#x22;dangling=true&amp;#x22; -q)// 等价于-a Remove all unused images, not just dangling ones-f 不提示确认docker image prune// it will remove both unused and dangling images.docker system prune -a\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;p&gt;2、volumes文件做持久化缓存，文件更新执行docker build 不更新&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[]],&quot;imagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;常用命令&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;docker&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;1 min read&quot;],&quot;minutes&quot;:[0,0.345],&quot;time&quot;:[0,20700],&quot;words&quot;:[0,69]}]}]}]}],&quot;collection&quot;:[0,&quot;blog&quot;],&quot;slug&quot;:[0,&quot;docker/常用命令&quot;],&quot;render&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;踩坑/h5.md&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;h5错误&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;error&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;1 min read&quot;],&quot;minutes&quot;:[0,0.89],&quot;time&quot;:[0,53400],&quot;words&quot;:[0,178]}]}],&quot;body&quot;:[0,&quot;#### 移动端H5页面拍照上传图片后图片被旋转的bug及修复方案\n某些浏览器有一个自动纠正图片旋转的功能,手机上拍照是正常的，一上传到又拍云上就发生了旋转。先用exif.js中的Orientation判断出图片的拍摄方向，如果发生了旋转，我们用canvas绘画图片并加以修正，最后再导出修正后的图片上传到服务器。\n```js\nEXIF.getData(file, function(){\n  EXIF.getAllTags(this)\n  Orientation = EXIF.getTag(this, &#39;Orientation&#39;)\n  if (Orientation !== \&quot;\&quot; &amp;&amp;  Orientation !== 1) {\n    alert(&#39;旋转处理&#39;)\n    switch(Orientation) {\n      case 6 // 需要顺时针90度旋转\n    }\n}\n})\n```\n\n### 前端实现视频压缩转码并不友好，卡顿和兼容问题很多&quot;],&quot;filePath&quot;:[0,&quot;src/content/blog/踩坑/h5.md&quot;],&quot;digest&quot;:[0,&quot;d76992d588e30d0f&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h4 id=\&quot;移动端h5页面拍照上传图片后图片被旋转的bug及修复方案\&quot;&gt;移动端H5页面拍照上传图片后图片被旋转的bug及修复方案&lt;/h4&gt;\n&lt;p&gt;某些浏览器有一个自动纠正图片旋转的功能,手机上拍照是正常的，一上传到又拍云上就发生了旋转。先用exif.js中的Orientation判断出图片的拍摄方向，如果发生了旋转，我们用canvas绘画图片并加以修正，最后再导出修正后的图片上传到服务器。&lt;/p&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;link rel=\&quot;stylesheet\&quot; href=\&quot;/./_astro/ec.7l6n5.css\&quot;&gt;&lt;script type=\&quot;module\&quot; src=\&quot;/./_astro/ec.8zarh.js\&quot;&gt;&lt;/script&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;js\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;EXIF&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getData&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(file, &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(){&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;EXIF&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getAllTags&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;Orientation &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;EXIF&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getTag&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;Orientation&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (Orientation &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;!==&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;&amp;#x26;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  Orientation &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;!==&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;alert&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;旋转处理&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;switch&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(Orientation) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;      &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;case&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;6&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 需要顺时针90度旋转&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;})&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;EXIF.getData(file, function(){  EXIF.getAllTags(this)  Orientation = EXIF.getTag(this, &amp;#x27;Orientation&amp;#x27;)  if (Orientation !== &amp;#x22;&amp;#x22; &amp;#x26;&amp;#x26;  Orientation !== 1) {    alert(&amp;#x27;旋转处理&amp;#x27;)    switch(Orientation) {      case 6 // 需要顺时针90度旋转    }}})\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;h3 id=\&quot;前端实现视频压缩转码并不友好卡顿和兼容问题很多\&quot;&gt;前端实现视频压缩转码并不友好，卡顿和兼容问题很多&lt;/h3&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;移动端h5页面拍照上传图片后图片被旋转的bug及修复方案&quot;],&quot;text&quot;:[0,&quot;移动端H5页面拍照上传图片后图片被旋转的bug及修复方案&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;前端实现视频压缩转码并不友好卡顿和兼容问题很多&quot;],&quot;text&quot;:[0,&quot;前端实现视频压缩转码并不友好，卡顿和兼容问题很多&quot;]}]]],&quot;imagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;h5错误&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;error&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;1 min read&quot;],&quot;minutes&quot;:[0,0.89],&quot;time&quot;:[0,53400],&quot;words&quot;:[0,178]}]}]}]}],&quot;collection&quot;:[0,&quot;blog&quot;],&quot;slug&quot;:[0,&quot;踩坑/h5&quot;],&quot;render&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;基础/git.md&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;git补充知识&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;git&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;1 min read&quot;],&quot;minutes&quot;:[0,0.13],&quot;time&quot;:[0,7800],&quot;words&quot;:[0,26]}]}],&quot;body&quot;:[0,&quot;* 配置 Git 使其对文件名大小写敏感\n```sh\ngit config core.ignorecase false\n```\n* 获取某一个commit\n```sh\ngit cherry-pick commit\n```&quot;],&quot;filePath&quot;:[0,&quot;src/content/blog/基础/git.md&quot;],&quot;digest&quot;:[0,&quot;d551313d38c5b91c&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;ul&gt;\n&lt;li&gt;配置 Git 使其对文件名大小写敏感&lt;/li&gt;\n&lt;/ul&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;link rel=\&quot;stylesheet\&quot; href=\&quot;/./_astro/ec.7l6n5.css\&quot;&gt;&lt;script type=\&quot;module\&quot; src=\&quot;/./_astro/ec.8zarh.js\&quot;&gt;&lt;/script&gt;&lt;figure class=\&quot;frame is-terminal\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;span class=\&quot;title\&quot;&gt;&lt;/span&gt;&lt;span class=\&quot;sr-only\&quot;&gt;Terminal window&lt;/span&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;sh\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;git&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;config&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;core.ignorecase&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;false&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;git config core.ignorecase false\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;ul&gt;\n&lt;li&gt;获取某一个commit&lt;/li&gt;\n&lt;/ul&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame is-terminal\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;span class=\&quot;title\&quot;&gt;&lt;/span&gt;&lt;span class=\&quot;sr-only\&quot;&gt;Terminal window&lt;/span&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;sh\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;git&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;cherry-pick&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;commit&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;git cherry-pick commit\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[]],&quot;imagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;git补充知识&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;git&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;1 min read&quot;],&quot;minutes&quot;:[0,0.13],&quot;time&quot;:[0,7800],&quot;words&quot;:[0,26]}]}]}]}],&quot;collection&quot;:[0,&quot;blog&quot;],&quot;slug&quot;:[0,&quot;基础/git&quot;],&quot;render&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;踩坑/error.md&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;错误处理&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;error&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;1 min read&quot;],&quot;minutes&quot;:[0,0.835],&quot;time&quot;:[0,50100],&quot;words&quot;:[0,167]}]}],&quot;body&quot;:[0,&quot;```javascript\n// 引用第三方库，需要用到浏览器功能的可以写成组件后用异步导入\nimport dynamic from &#39;next/dynamic&#39;;\n  const MyComponent = dynamic(() =&gt; import(&#39;./login&#39;), {\n  ssr: false,\n});\n```\n```js\n// 判断是否修改了选择的文件\ntry {\n  // 这里读取文件\n  // file文件是个对象按道理不能slice，但是继承自blob\n  // blob可以看成二进制字符串，有slice方法\n  // blob得arrayBuffer会把二进制转成arraybuffer，并且返回promise，转得过程就要读取文件\n  await this.file.slice(0 ,1).arrayBuffer();\n}catch (e) {\n  this.$error(`选择的文件已经修改，请重新选择上传：${e}`);\n  return;\n}\n```\n\n\n```rust\nuse std \&quot;path add\&quot;\nfnm env --json | from json | load-env\npath add ($env.FNM_MULTISHELL_PATH + \&quot;/bin\&quot;)\n```&quot;],&quot;filePath&quot;:[0,&quot;src/content/blog/踩坑/error.md&quot;],&quot;digest&quot;:[0,&quot;163a583c4e58d4b4&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;link rel=\&quot;stylesheet\&quot; href=\&quot;/./_astro/ec.7l6n5.css\&quot;&gt;&lt;script type=\&quot;module\&quot; src=\&quot;/./_astro/ec.8zarh.js\&quot;&gt;&lt;/script&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 引用第三方库，需要用到浏览器功能的可以写成组件后用异步导入&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;import&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; dynamic &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;from&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;next/dynamic&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;MyComponent&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;dynamic&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;import&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;./login&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;), {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;ssr: &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;false&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;});&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;// 引用第三方库，需要用到浏览器功能的可以写成组件后用异步导入import dynamic from &amp;#x27;next/dynamic&amp;#x27;;  const MyComponent = dynamic(() =&gt; import(&amp;#x27;./login&amp;#x27;), {  ssr: false,});\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;js\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 判断是否修改了选择的文件&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;try&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 这里读取文件&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// file文件是个对象按道理不能slice，但是继承自blob&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// blob可以看成二进制字符串，有slice方法&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// blob得arrayBuffer会把二进制转成arraybuffer，并且返回promise，转得过程就要读取文件&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;await&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.file.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;slice&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; ,&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;).&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;arrayBuffer&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;catch&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (e) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;$error&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;`选择的文件已经修改，请重新选择上传：${&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;e&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;}`&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;// 判断是否修改了选择的文件try {  // 这里读取文件  // file文件是个对象按道理不能slice，但是继承自blob  // blob可以看成二进制字符串，有slice方法  // blob得arrayBuffer会把二进制转成arraybuffer，并且返回promise，转得过程就要读取文件  await this.file.slice(0 ,1).arrayBuffer();}catch (e) {  this.$error(&amp;#x60;选择的文件已经修改，请重新选择上传：${e}&amp;#x60;);  return;}\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;rust\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;use&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; std \&quot;path add\&quot;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;fnm env &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;--&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;json &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; from json &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; load&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;-&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;env&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;path add (&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;$&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;env&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;FNM_MULTISHELL_PATH&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; \&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;/&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;bin\&quot;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;use std &amp;#x22;path add&amp;#x22;fnm env --json | from json | load-envpath add ($env.FNM_MULTISHELL_PATH + &amp;#x22;/bin&amp;#x22;)\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[]],&quot;imagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;错误处理&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;error&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;1 min read&quot;],&quot;minutes&quot;:[0,0.835],&quot;time&quot;:[0,50100],&quot;words&quot;:[0,167]}]}]}]}],&quot;collection&quot;:[0,&quot;blog&quot;],&quot;slug&quot;:[0,&quot;踩坑/error&quot;],&quot;render&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;css/适配.md&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;移动端适配方案&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;h5&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;1 min read&quot;],&quot;minutes&quot;:[0,0.48],&quot;time&quot;:[0,28800],&quot;words&quot;:[0,96]}]}],&quot;body&quot;:[0,&quot;### 移动端适配方案\n```\nnpm install postcss-px-to-viewport --save-dev\n```\n\n```js\n//postcss.config.js\n\n// postcss.config.js\nconst path = require(&#39;path&#39;);\n\nmodule.exports = ({ webpack }) =&gt; {\n  const viewWidth = webpack.resourcePath.includes(path.join(&#39;node_modules&#39;, &#39;vant&#39;)) ? 375 : 750;\n  return {\n    plugins: {\n      autoprefixer: {},\n      \&quot;postcss-px-to-viewport\&quot;: {\n        unitToConvert: \&quot;px\&quot;,\n        viewportWidth: viewWidth,\n        unitPrecision: 6,\n        propList: [\&quot;*\&quot;],\n        viewportUnit: \&quot;vw\&quot;,\n        fontViewportUnit: \&quot;vw\&quot;,\n        selectorBlackList: [],\n        minPixelValue: 1,\n        mediaQuery: true,\n        exclude: [],\n        landscape: false\n      }\n    }\n  }\n}\n\n```\n\n```scss\n\n/*比如：在父元素字体大小为 12px 的容器内绘制图形交互*/\n@function pxToEm ($px) {\n  @return ($px/12) + em;\n}\n\n# Sass\n.box {\n    width: pxToEm(36);\n}\n\n```\n\n```less\n.pxToVW (@px, @attr: width) {\n    @vw: (@px / 375) * 100;\n    @{attr}: ~\&quot;@{vw}vw\&quot;; \n}\n\n# Less\n.box {\n    .pxToVW(75);\n    .pxToVW(150, height);\n}\n\n```&quot;],&quot;filePath&quot;:[0,&quot;src/content/blog/css/适配.md&quot;],&quot;digest&quot;:[0,&quot;489021510edb9021&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h3 id=\&quot;移动端适配方案\&quot;&gt;移动端适配方案&lt;/h3&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;link rel=\&quot;stylesheet\&quot; href=\&quot;/./_astro/ec.7l6n5.css\&quot;&gt;&lt;script type=\&quot;module\&quot; src=\&quot;/./_astro/ec.8zarh.js\&quot;&gt;&lt;/script&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#e1e4e8;--1:#24292e\&quot;&gt;npm install postcss-px-to-viewport --save-dev&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;npm install postcss-px-to-viewport --save-dev\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame has-title\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;span class=\&quot;title\&quot;&gt;postcss.config.js&lt;/span&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;js\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// postcss.config.js&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;path&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;require&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;path&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;module&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;exports&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; ({ &lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;webpack&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; }) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;viewWidth&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; webpack.resourcePath.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;includes&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(path.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;join&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;node_modules&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;vant&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;)) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;?&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;375&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;750&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;plugins: {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;autoprefixer: {},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;      &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;postcss-px-to-viewport\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;: {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;unitToConvert: &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;px\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;viewportWidth: viewWidth,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;12&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;unitPrecision: &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;6&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;13&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;propList: [&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;*\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;],&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;details class=\&quot;ec-section\&quot;&gt;&lt;summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 16 16\&quot; width=\&quot;16\&quot; height=\&quot;16\&quot;&gt;&lt;path d=\&quot;m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;11 collapsed lines&lt;/div&gt;&lt;/div&gt;&lt;/summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;14&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;viewportUnit: &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;vw\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;15&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;fontViewportUnit: &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;vw\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;16&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;selectorBlackList: [],&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;17&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;minPixelValue: &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;18&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;mediaQuery: &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;true&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;19&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;exclude: [],&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;20&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;landscape: &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;false&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;21&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;22&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;23&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;24&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/details&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;// postcss.config.jsconst path = require(&amp;#x27;path&amp;#x27;);module.exports = ({ webpack }) =&gt; {  const viewWidth = webpack.resourcePath.includes(path.join(&amp;#x27;node_modules&amp;#x27;, &amp;#x27;vant&amp;#x27;)) ? 375 : 750;  return {    plugins: {      autoprefixer: {},      &amp;#x22;postcss-px-to-viewport&amp;#x22;: {        unitToConvert: &amp;#x22;px&amp;#x22;,        viewportWidth: viewWidth,        unitPrecision: 6,        propList: [&amp;#x22;*&amp;#x22;],        viewportUnit: &amp;#x22;vw&amp;#x22;,        fontViewportUnit: &amp;#x22;vw&amp;#x22;,        selectorBlackList: [],        minPixelValue: 1,        mediaQuery: true,        exclude: [],        landscape: false      }    }  }}\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;scss\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;/*比如：在父元素字体大小为 12px 的容器内绘制图形交互*/&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;@function&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; pxToEm (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;$px&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;@return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;$px&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;/12&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; em;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;# Sass&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;.box&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;width&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;pxToEm&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;36&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;/*比如：在父元素字体大小为 12px 的容器内绘制图形交互*/@function pxToEm ($px) {  @return ($px/12) + em;}# Sass.box {    width: pxToEm(36);}\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;less\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;.pxToVW&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (@&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;px&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, @&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;attr&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;width&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;@&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;vw&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;: (@&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;px&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;/&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;375&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;*&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;100&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;@{&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;attr&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}: ~\&quot;@{&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;vw&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}vw\&quot;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;#&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; Less&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;.box&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;.pxToVW&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;75&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;.pxToVW&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;150&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;height&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;.pxToVW (@px, @attr: width) {    @vw: (@px / 375) * 100;    @{attr}: ~&amp;#x22;@{vw}vw&amp;#x22;;}# Less.box {    .pxToVW(75);    .pxToVW(150, height);}\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;移动端适配方案&quot;],&quot;text&quot;:[0,&quot;移动端适配方案&quot;]}]]],&quot;imagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;移动端适配方案&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;h5&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;1 min read&quot;],&quot;minutes&quot;:[0,0.48],&quot;time&quot;:[0,28800],&quot;words&quot;:[0,96]}]}]}]}],&quot;collection&quot;:[0,&quot;blog&quot;],&quot;slug&quot;:[0,&quot;css/适配&quot;],&quot;render&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;script/sh.md&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;脚本&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;sh&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;4 min read&quot;],&quot;minutes&quot;:[0,3.805],&quot;time&quot;:[0,228300],&quot;words&quot;:[0,761]}]}],&quot;body&quot;:[0,&quot;### 基本语法\n* #!告诉系统这个脚本需要什么解释器来执行\n* Shell 变量分为系统变量和自定义变量。系统变量有$HOME、$PWD、$USER等，显示当前 Shell 中所有变量：set\n* 定义变量：变量名=变量值，等号两侧不能有空格，变量名一般习惯用大写。\n* 删除变量：unset 变量名 。\n* 声明静态变量：readonly 变量名，静态变量不能unset。\n* 使用变量：$变量名\n* 将命令返回值赋给变量（重点）\n```sh\nA=`ls` 反引号,执行里面的命令\nA=$(ls) 等价于反引号\n```\n* export 变量名=变量值，将 Shell 变量输出为环境变量。\n* source 配置文件路径，让修改后的配置信息立即生效。\n* echo $变量名，检查环境变量是否生效\n* $n ：$0 代表命令本身、$1-$9 代表第1到9个参数，10以上参数用花括号，如 ${10}。\n* $* ：命令行中所有参数，且把所有参数看成一个整体。\n* $@ ：命令行中所有参数，且把每个参数区分对待。\n* $# ：所有参数个数。\n* $$ ：当前进程的 PID 进程号。\n* $! ：后台运行的最后一个进程的 PID 进程号。\n* $? ：最后一次执行的命令的返回状态，0为执行正确，非0执行失败。\n* $((运算式)) 或 $[运算式] expr m + n 注意 expr 运算符间要有空格\n* 条件判断[ condition ] 注意condition前后要有空格。非空返回0，0为 true，否则为 false \n```sh\n#!/bin/bash \nif [ &#39;test01&#39; = &#39;test&#39; ] \nthen\n     echo &#39;等于&#39; \nfi  \n\n# 20是否大于10 \nif [ 20 -gt 10] \nthen\n     echo &#39;大于&#39; \nfi  \n\n# 是否存在文件/root/shell/a.txt \nif [ -e /root/shell/a.txt ] \nthen\n     echo &#39;存在&#39; \nfi  \n\nif [ &#39;test02&#39; = &#39;test02&#39; ] &amp;&amp; echo &#39;hello&#39; || echo &#39;world&#39; \nthen\n     echo &#39;条件满足，执行后面的语句&#39; \nfi\n\ncase $变量名 in\n\&quot;值1\&quot;)\n如果变量值等于值1，则执行此处程序1\n;;\n\&quot;值2\&quot;)\n如果变量值等于值2，则执行此处程序2\n;;\n...省略其它分支...\n*)\n如果变量值不等于以上列出的值，则执行此处程序\n;;\nesac\n```\n* 循环\n```sh\n# 语法1\nfor 变量名 in 值1 值2 值3...\ndo\n    程序\ndone\n\n# 语法2\nfor ((初始值;循环控制条件;变量变化))\ndo\n    程序\ndone\n\n#!/bin/bash  \n\n# 使用$* \nfor i in \&quot;$*\&quot; \ndo     \n    echo \&quot;the arg is $i\&quot; \ndone \necho \&quot;==================\&quot;  \n\n# 使用$@ \nfor j in \&quot;$@\&quot; \ndo     \n    echo \&quot;the arg is $j\&quot; \ndone\n\nwhile [ 条件判断式 ]\ndo\n    程序\ndone \n```\n* 读取控制台输入 read(选项)(参数)\n -p：指定读取值时的提示符\n -t：指定读取值时等待的时间（秒），如果没有在指定时间内输入，就不再等待了。\n\n* 函数 basename [pathname] [suffix], basename [string] [suffix], 如果指定 suffix，也会删掉pathname或string的后缀部分。\n```\n# basename /usr/bin/sort  \nsort  \n\n# basename include/stdio.h  \nstdio.h  \n\n# basename include/stdio.h .h \nstdio\n```\n* dirname，删掉路径最后一个 / 后的所有部分（包括/），常用于获取文件路径。\n* 自定义函数\n```sh\n[ function ] funname[()]\n{\n    Action;\n    [return int;]\n}\n\n# 调用\nfunname 参数1 参数2...\nfunction getSum(){\n    SUM=$[$n1+$n2]\n    echo \&quot;sum=$SUM\&quot;\n}   \n\n```\n### 运行\n```\nchmod +x test.sh \n./test.sh\n```&quot;],&quot;filePath&quot;:[0,&quot;src/content/blog/script/sh.md&quot;],&quot;digest&quot;:[0,&quot;af96a09a9c0d245d&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h3 id=\&quot;基本语法\&quot;&gt;基本语法&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;#!告诉系统这个脚本需要什么解释器来执行&lt;/li&gt;\n&lt;li&gt;Shell 变量分为系统变量和自定义变量。系统变量有$HOME、$PWD、$USER等，显示当前 Shell 中所有变量：set&lt;/li&gt;\n&lt;li&gt;定义变量：变量名=变量值，等号两侧不能有空格，变量名一般习惯用大写。&lt;/li&gt;\n&lt;li&gt;删除变量：unset 变量名 。&lt;/li&gt;\n&lt;li&gt;声明静态变量：readonly 变量名，静态变量不能unset。&lt;/li&gt;\n&lt;li&gt;使用变量：$变量名&lt;/li&gt;\n&lt;li&gt;将命令返回值赋给变量（重点）&lt;/li&gt;\n&lt;/ul&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;link rel=\&quot;stylesheet\&quot; href=\&quot;/./_astro/ec.7l6n5.css\&quot;&gt;&lt;script type=\&quot;module\&quot; src=\&quot;/./_astro/ec.8zarh.js\&quot;&gt;&lt;/script&gt;&lt;figure class=\&quot;frame is-terminal\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;span class=\&quot;title\&quot;&gt;&lt;/span&gt;&lt;span class=\&quot;sr-only\&quot;&gt;Terminal window&lt;/span&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;sh\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;A&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;`&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;ls&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;`&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;反引号,执行里面的命令&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;A&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;$(&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;ls&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;等价于反引号&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;A=&amp;#x60;ls&amp;#x60; 反引号,执行里面的命令A=$(ls) 等价于反引号\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;ul&gt;\n&lt;li&gt;export 变量名=变量值，将 Shell 变量输出为环境变量。&lt;/li&gt;\n&lt;li&gt;source 配置文件路径，让修改后的配置信息立即生效。&lt;/li&gt;\n&lt;li&gt;echo $变量名，检查环境变量是否生效&lt;/li&gt;\n&lt;li&gt;$n ：$0 代表命令本身、$1-$9 代表第1到9个参数，10以上参数用花括号，如 ${10}。&lt;/li&gt;\n&lt;li&gt;$* ：命令行中所有参数，且把所有参数看成一个整体。&lt;/li&gt;\n&lt;li&gt;$@ ：命令行中所有参数，且把每个参数区分对待。&lt;/li&gt;\n&lt;li&gt;$# ：所有参数个数。&lt;/li&gt;\n&lt;li&gt;$$ ：当前进程的 PID 进程号。&lt;/li&gt;\n&lt;li&gt;$! ：后台运行的最后一个进程的 PID 进程号。&lt;/li&gt;\n&lt;li&gt;$? ：最后一次执行的命令的返回状态，0为执行正确，非0执行失败。&lt;/li&gt;\n&lt;li&gt;$((运算式)) 或 $[运算式] expr m + n 注意 expr 运算符间要有空格&lt;/li&gt;\n&lt;li&gt;条件判断[ condition ] 注意condition前后要有空格。非空返回0，0为 true，否则为 false&lt;/li&gt;\n&lt;/ul&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;sh\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; [ &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;test01&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;test&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; ]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;then&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;     &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;echo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;等于&#39;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;fi&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;# 20是否大于10&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; [ &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;20&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;-gt&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; 10]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;then&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;     &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;echo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;大于&#39;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;fi&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;12&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;13&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;# 是否存在文件/root/shell/a.txt&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;14&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; [ &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;-e&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; /root/shell/a.txt ]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;15&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;then&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;details class=\&quot;ec-section\&quot;&gt;&lt;summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 16 16\&quot; width=\&quot;16\&quot; height=\&quot;16\&quot;&gt;&lt;path d=\&quot;m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;20 collapsed lines&lt;/div&gt;&lt;/div&gt;&lt;/summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;16&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;     &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;echo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;存在&#39;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;17&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;fi&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;18&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;19&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; [ &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;test02&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;test02&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; ] &amp;#x26;&amp;#x26; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;echo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;hello&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;||&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;echo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;world&#39;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;20&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;then&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;21&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;     &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;echo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;条件满足，执行后面的语句&#39;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;22&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;fi&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;23&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;24&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;case&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; $变量名 &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;in&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;25&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;值1\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;26&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;如果变量值等于值1，则执行此处程序1&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;27&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;28&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;值2\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;29&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;如果变量值等于值2，则执行此处程序2&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;30&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;31&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#DBEDFF;--1:#032F62\&quot;&gt;...省略其它分支...&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;32&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;*&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;33&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;如果变量值不等于以上列出的值，则执行此处程序&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;34&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;35&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;esac&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/details&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;#!/bin/bashif [ &amp;#x27;test01&amp;#x27; = &amp;#x27;test&amp;#x27; ]then     echo &amp;#x27;等于&amp;#x27;fi# 20是否大于10if [ 20 -gt 10]then     echo &amp;#x27;大于&amp;#x27;fi# 是否存在文件/root/shell/a.txtif [ -e /root/shell/a.txt ]then     echo &amp;#x27;存在&amp;#x27;fiif [ &amp;#x27;test02&amp;#x27; = &amp;#x27;test02&amp;#x27; ] &amp;#x26;&amp;#x26; echo &amp;#x27;hello&amp;#x27; || echo &amp;#x27;world&amp;#x27;then     echo &amp;#x27;条件满足，执行后面的语句&amp;#x27;ficase $变量名 in&amp;#x22;值1&amp;#x22;)如果变量值等于值1，则执行此处程序1;;&amp;#x22;值2&amp;#x22;)如果变量值等于值2，则执行此处程序2;;...省略其它分支...*)如果变量值不等于以上列出的值，则执行此处程序;;esac\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;ul&gt;\n&lt;li&gt;循环&lt;/li&gt;\n&lt;/ul&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame is-terminal\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;span class=\&quot;title\&quot;&gt;&lt;/span&gt;&lt;span class=\&quot;sr-only\&quot;&gt;Terminal window&lt;/span&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;sh\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;# 语法1&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;for&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; 变量名 in 值1 值2 值3...&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;do&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;程序&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;done&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;# 语法2&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;for&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; ((初始值;循环控制条件;变量变化))&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;do&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;程序&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;done&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;12&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;13&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;14&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;15&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;# 使用$*&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;details class=\&quot;ec-section\&quot;&gt;&lt;summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 16 16\&quot; width=\&quot;16\&quot; height=\&quot;16\&quot;&gt;&lt;path d=\&quot;m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;16 collapsed lines&lt;/div&gt;&lt;/div&gt;&lt;/summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;16&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;for&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; i &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;in&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;$*&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;17&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;do&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;18&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;echo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;the arg is &lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;$i&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;19&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;done&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;20&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;echo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;==================\&quot;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;21&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;22&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;# 使用$@&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;23&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;for&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; j &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;in&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;$@&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;24&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;do&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;25&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;echo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;the arg is &lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;$j&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;26&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;done&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;27&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;28&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;while&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; [ 条件判断式 ]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;29&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;do&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;30&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;程序&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;31&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;done&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/details&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;for 变量名 in 值1 值2 值3...do    程序donefor ((初始值;循环控制条件;变量变化))do    程序donefor i in &amp;#x22;$*&amp;#x22;do    echo &amp;#x22;the arg is $i&amp;#x22;doneecho &amp;#x22;==================&amp;#x22;for j in &amp;#x22;$@&amp;#x22;do    echo &amp;#x22;the arg is $j&amp;#x22;donewhile [ 条件判断式 ]do    程序done\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;读取控制台输入 read(选项)(参数)\n-p：指定读取值时的提示符\n-t：指定读取值时等待的时间（秒），如果没有在指定时间内输入，就不再等待了。&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;函数 basename [pathname] [suffix], basename [string] [suffix], 如果指定 suffix，也会删掉pathname或string的后缀部分。&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#e1e4e8;--1:#24292e\&quot;&gt;# basename /usr/bin/sort&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#e1e4e8;--1:#24292e\&quot;&gt;sort&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#e1e4e8;--1:#24292e\&quot;&gt;# basename include/stdio.h&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#e1e4e8;--1:#24292e\&quot;&gt;stdio.h&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#e1e4e8;--1:#24292e\&quot;&gt;# basename include/stdio.h .h&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#e1e4e8;--1:#24292e\&quot;&gt;stdio&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;# basename /usr/bin/sortsort# basename include/stdio.hstdio.h# basename include/stdio.h .hstdio\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;ul&gt;\n&lt;li&gt;dirname，删掉路径最后一个 / 后的所有部分（包括/），常用于获取文件路径。&lt;/li&gt;\n&lt;li&gt;自定义函数&lt;/li&gt;\n&lt;/ul&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame is-terminal\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;span class=\&quot;title\&quot;&gt;&lt;/span&gt;&lt;span class=\&quot;sr-only\&quot;&gt;Terminal window&lt;/span&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;sh\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;[ function ] &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;funname[&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;()]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;Action&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;[return int;]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;# 调用&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;funname&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;参数1&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;参数2...&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getSum&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(){&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;SUM&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;$&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;$n1&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;$n2]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;echo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;sum=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;$SUM&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;12&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;[ function ] funname[()]{    Action;    [return int;]}funname 参数1 参数2...function getSum(){    SUM=$[$n1+$n2]    echo &amp;#x22;sum=$SUM&amp;#x22;}\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;h3 id=\&quot;运行\&quot;&gt;运行&lt;/h3&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#e1e4e8;--1:#24292e\&quot;&gt;chmod +x test.sh&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#e1e4e8;--1:#24292e\&quot;&gt;./test.sh&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;chmod +x test.sh./test.sh\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;基本语法&quot;],&quot;text&quot;:[0,&quot;基本语法&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;运行&quot;],&quot;text&quot;:[0,&quot;运行&quot;]}]]],&quot;imagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;脚本&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;sh&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;4 min read&quot;],&quot;minutes&quot;:[0,3.805],&quot;time&quot;:[0,228300],&quot;words&quot;:[0,761]}]}]}]}],&quot;collection&quot;:[0,&quot;blog&quot;],&quot;slug&quot;:[0,&quot;script/sh&quot;],&quot;render&quot;:[0,null]}],[0,{&quot;id&quot;:[0,&quot;web/设计模式.md&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;设计模式&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;设计模式&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;12 min read&quot;],&quot;minutes&quot;:[0,11.3],&quot;time&quot;:[0,678000],&quot;words&quot;:[0,2260]}]}],&quot;body&quot;:[0,&quot;### 责任链模式\n避免请求者和接收者之间的耦合，让多个接收者都有机会去处理请求。将接收者组成链条，在链条中传递请求直到有接收者可以处理它。\n原始的定义中，当请求被处理后链条就终止了，但很多地方也会将请求一直传递下去，可以看作是责任链模式的变体。\n### 时序图\n：sender =&gt; receiver1:handler =&gt; receiver2:handler =&gt; receiver3:handler\n\n```js\nclass handler {\n  constructor(fn) {\n    this.handler = fn;\n    this.next = null;\n  }\n\n  setNext = (h) =&gt; {\n    this.next = h;\n    return h;\n  }\n\n  passRequest = ()=&gt; {\n    const ret = this.handler.apply(this, arguments);\n\n    // 根据想要的效果修改\n    // 提前结束\n    if (ret) {\n      return ret;\n    }\n\n    // 向后传递\n    if (this.next) {\n      this.next.passRequest.apply(this.next, arguments);\n    }\n    return ret;\n  }\n}\n\nconst StdoutHandler = new Handler(StdoutLogger);\nconst EmailHandler = new Handler(EmailLogger);\nconst StderrHandler = new Handler(StderrLogger);\nStdoutHandler.setNext(EmailHandler).setNext(StderrHandler);\n\nStdoutHandler.passRequest(\&quot;Entering function y.\&quot;, DEBUG);\nStdoutHandler.passRequest(\&quot;Step1 completed.\&quot;, NOTICE);\nStdoutHandler.passRequest(\&quot;An error has occurred.\&quot;, ERR);\n```\n\n### 策略模式\n策略模式作为一种软件设计模式，指对象有某个行为，但是在不同的场景中，该行为有不同的实现算法。比如每个人都要“交个人所得税”，但是“在中国交个人所得税”和“在美国交个人所得税”就有不同的算税方法。策略模式：\n定义了一族算法（业务规则）；\n封装了每个算法；\n这族的算法可互换代替（interchangeable）。\n\n```js\nconst strategies = {\n  FirstStrategy() {\n    console.log(\&quot;Called FirstStrategy\&quot;);\n  },\n  SecondStrategy() {\n    console.log(\&quot;Called SecondStrategy\&quot;);\n  },\n  ThirdStrategy() {\n    console.log(\&quot;Called ThirdStrategy\&quot;);\n  }\n}\n\nconst execute = (strategy) =&gt; {\n  return strategies[strategy]();\n}\n\nexecute(&#39;FirstStrategy&#39;)\nexecute(&#39;SecondStrategy&#39;)\nexecute(&#39;ThirdStrategy&#39;)\n```\n\n### 代理模式\n代理模式就是对原有对象进行扩展，从而实现对原对象的控制或者进行额外的操作，不同场景下代理模式又可以细分出很多类别：\n\n远程代理：通过代理模式，实现像操作本地对象一样的操作远程对象。\n\n虚拟代理：In place of a complex or heavy object, a skeleton representation may be advantageous in some cases.  常见的比如大图的加载，我们可以通过引入代理对象，先加载一张小图，大图加载完毕后再显示大图。\n\n保护代理：将原有对象的属性访问进行权限控制。\n\n缓存代理：引入缓存，将之前的结果进行缓存，常见的比如斐波那契数列。\n\n...\n\n```js\nfunction RealImage(filename) {\n    this.filename = filename;\n    const loadImageFromDisk = () =&gt; {\n        console.log(&#39;Loading   &#39; + filename);\n    };\n    loadImageFromDisk();\n    return {\n        displayImage: () =&gt; {\n            console.log(&#39;Displaying &#39; + filename);\n        },\n    };\n}\n\nfunction ProxyImage(filename) {\n    this.filename = filename;\n    let image = null;\n    return {\n        displayImage: () =&gt; {\n            if (image === null) {\n                image = RealImage(filename);\n            }\n            image.displayImage();\n        },\n    };\n}\n\n// Test\nconst image = ProxyImage(&#39;HiRes_10MB_Photo1&#39;);\nimage.displayImage();\n```\n代理模式其实说简单了就是对原有对象/函数再包装一层，并且保持和原对象一致的行为。那么为什么不直接改原对象呢？\n\n第一，可能不方便直接改原对象，所以只能采取代理模式包一层了。\n\n第二，「单一职责原则」，如果直接修改原对象，会增加原有对象的复杂度，原对象如果负责的职责过多，引起对象改动的原因就会增多。\n\n第三，未来如果新功能要去掉，修改起来也不方便。如果使用了代理模式，只需要把原来引用的地方还原即可。\n\n### 装饰器模式\n装饰器（修饰）模式，是面向对象程式领域中，一种动态地往一个类别中添加新的行为的设计模式。就功能而言，修饰模式相比生成子类别更为灵活，这样可以给某个对象而不是整个类别添加一些功能。\n\n```js\nconst SimpleMilkTea = () =&gt; {\n    return {\n        getCost() {\n            return 10;\n        },\n\n        getIngredients() {\n            return \&quot;MilkTea\&quot;;\n        },\n    };\n};\n\n// 加珍珠\nconst WithPearl = (milkTea) =&gt; {\n    return {\n        getCost() {\n            return milkTea.getCost() + 2;\n        },\n\n        getIngredients() {\n            return milkTea.getIngredients() + \&quot;, 加珍珠\&quot;;\n        },\n    };\n};\n\n// 加椰果\nconst WithCoconut = (milkTea) =&gt; {\n    return {\n        getCost() {\n            return milkTea.getCost() + 1;\n        },\n\n        getIngredients() {\n            return milkTea.getIngredients() + \&quot;, 加椰果\&quot;;\n        },\n    };\n};\n\n// 加冰淇淋\nconst WithCream = (milkTea) =&gt; {\n    return {\n        getCost() {\n            return milkTea.getCost() + 5;\n        },\n\n        getIngredients() {\n            return milkTea.getIngredients() + \&quot;, 加冰淇淋\&quot;;\n        },\n    };\n};\n\n// test\nconst printInfo = (c) =&gt; {\n    console.log(\n        \&quot;价格: \&quot; + c.getCost() + \&quot;; 加料: \&quot; + c.getIngredients()\n    );\n};\n\nlet c = SimpleMilkTea();\nprintInfo(c); // 价格: 10; 加料: MilkTea\n\nc = WithPearl(SimpleMilkTea());\nprintInfo(c); // 价格: 12; 加料: MilkTea, 加珍珠\n\nc = WithCoconut(WithPearl(SimpleMilkTea()));\nprintInfo(c); // 价格: 13; 加料: MilkTea, 加珍珠, 加椰果\n\nc = WithCoconut(WithCream(WithPearl(SimpleMilkTea())));\nprintInfo(c); // 价格: 18; 加料: MilkTea, 加珍珠, 加冰淇淋, 加椰果\n\n```\n代理模式的话，对象之间的依赖关系已经写死了，原始对象 A，新增代理对象 A1， A1 的基础上再新增代理对象 A2。如果我们不想要 A1 新增的功能了，我们并不能直接使用 A2 ，因为 A2 已经包含了 A1 的功能，我们只能在 A 的基础上再新写一个代理对象 A3。\n\n而装饰器模式，我们只提供装饰函数 A1，装饰函数 A2，然后对原始对象进行装饰 A2(A1(A))。如果不想要 A1 新增的功能，只需要把 A1 这个装饰器去掉，调用 A2(A) 即可。\n\n所以使用代理模式还是使用装饰器模式，取决于我们是要把所有功能包装后最终产出一个对象给业务方使用，还是提供许多功能，让业务方自由组合。\n\n### 观察者模式\n很好理解的一个设计模式，有一个 subject 对象，然后有很多 observers 观察者对象，当 subject 对象有变化的时候去通知 observer 对象即可。\n每一个观察者都实现了 update 方法，并且调用 Subject 对象的 attach 方法订阅变化。当 Subject 变化时，调用 Observer 的 update 方法去通知观察者。\n```js\nconst WindLiang = () =&gt; {\n    const list = [];\n    let post = \&quot;还没更新\&quot;;\n    return {\n        attach(update) {\n            list.push(update);\n        },\n        detach(update) {\n            let findIndex = -1;\n            for (let i = 0; i &lt; list.length; i++) {\n                if (list[i] === update) {\n                    findIndex = i;\n                    break;\n                }\n            }\n            if (findIndex !== -1) {\n                list.splice(findIndex, 1);\n            }\n        },\n        notifyObserver() {\n            for (let i = 0; i &lt; list.length; i++) {\n                list[i](post);\n            }\n        },\n        writePost(p) {\n            post = p;\n        },\n    };\n};\n\nconst XiaoMing = {\n    update(post){\n        console.log(\&quot;我收到了\&quot; + post + \&quot; 并且点了个赞\&quot;);\n    }\n}\n\nconst XiaoYang = {\n    update(post){\n        console.log(\&quot;我收到了\&quot; + post + \&quot; 并且转发了\&quot;);\n    }\n}\n\nconst XiaoGang = {\n    update(post){\n        console.log(\&quot;我收到了\&quot; + post + \&quot; 并且收藏\&quot;);\n    }\n}\n\n\nwindliang = WindLiang();\n\nwindliang.attach(XiaoMing.update)\nwindliang.attach(XiaoYang.update)\nwindliang.attach(XiaoGang.update)\n\nwindliang.writePost(\&quot;新文章-观察者模式，balabala\&quot;)\nwindliang.notifyObserver()\n```\n\n### 发布订阅模式\n发布订阅模式和观察者模式本质上还是一样的，并且发布订阅模式也没有在经典的设计模式书 GoF 中出现，很多地方也直接把两者看成一种设计模式了。\n观察者模式中，Subject 自己维护观察者列表进行注册和通知。\n发布订阅模式的话，引入一个中间平台进行注册和通知，相当于从 Subject 中解耦出来。\n\n```js\n// event.js\nconst observersMap = {}\nconst listen = function (key, fn) {\n    if (!observersMap[key]) {\n        observersMap[key] = [];\n    }\n    observersMap[key].push(fn);\n};\nconst trigger = function () {\n    const key = Array.prototype.shift.call(arguments),\n        fns = observersMap[key];\n    if (!fns || fns.length === 0) {\n        return false;\n    }\n    for (let i = 0, fn; fn = fns[i];i++ ) {\n        fn.apply(this, arguments);\n    }\n};\nconst remove = function (key, fn) {\n    const fns = observersMap[key];\n    if (!fns) {\n        return false;\n    }\n    if (!fn) {\n        fns &amp;&amp; (fns.length = 0) // 全部清空\n    } else {\n        let findIndex = -1;\n        for (let i = 0; i &lt; fns.length; i++) {\n            if (fns[i] === fn) {\n                findIndex = i;\n                break;\n            }\n        }\n        if (findIndex !== -1) {\n            fns.splice(findIndex, 1);\n        }\n    }\n};\n\n\n// 同一种功能可能会见到不同名字，这里都导出去\nexport const EventBus = {\n    listen,\n    attach: listen,\n    on: listen,\n\n    remove,\n    detach: remove,\n\n    trigger,\n    emit: trigger,\n};\n```\n\n```js\nimport { EventBus as EventBusOriginal } from \&quot;./event.js\&quot;;\n\nlet offlineStack = []; // listen 之前的 emit 事件进行缓存\n\nconst triggerProxy = function () {\n    const _self = this;\n    const args = arguments;\n    const fn = function () {\n        return EventBusOriginal.trigger.apply(_self, args);\n    };\n    if (offlineStack) {\n        return offlineStack.push(fn);\n    }\n    return fn();\n};\nconst listenProxy = function (key, fn) {\n    EventBusOriginal.listen(key, fn);\n    if(!offlineStack) {\n        return;\n    }\n    for (let i = 0, fn; (fn = offlineStack[i]); i++) {\n        fn();\n    }\n    offlineStack = null;\n\n};\n\nconst listen = listenProxy || EventBus.listen;\nconst trigger = triggerProxy || EventBus.trigger;\n\nexport const EventBus = {\n    ...EventBusOriginal,\n    listen,\n    attach: listen,\n    on: listen,\n\n    trigger,\n    emit: trigger,\n};\n\n```\n上边的解决方案很粗略，只适用于有一个事件并且只有一个 on 的场景\n\n### 依赖注入\n```js\nclass A {\n  constructor(name) {\n    this.name = name;\n  }\n  log() {\n    console.log(\&quot;name: \&quot;, this.name);\n  }\n}\n\nclass B {\n  constructor(a) {\n    this.a = a;\n  }\n\n  start() {\n    this.a.log();\n  }\n}\n\nconst a = new A();\nconst b = new B(a);\nb.start();\n```\n\n\n\n### 并发控制\n```js\nconst pLimit = (concurrency) =&gt; {\n    if (!((Number.isInteger(concurrency) || concurrency === Infinity) &amp;&amp; concurrency &gt; 0)) {\n      throw new TypeError(&#39;Expected `concurrency` to be a number from 1 and up&#39;);\n    }\n  \n    const queue = [];\n    let activeCount = 0;\n  \n    const next = () =&gt; {\n      activeCount--;\n  \n      if (queue.length &gt; 0) {\n        queue.shift()();\n      }\n    };\n  \n    const run = async (fn, resolve, reject, ...args) =&gt; {\n      activeCount++;\n  \n      const result = (async () =&gt; fn(...args))();\n\n      resolve(result);\n  \n      try {\n        await result;\n      } catch (e) {\n        reject(e)\n      }\n\n      next();\n    };\n  \n    const enqueue = (fn, resolve, ...args) =&gt; {\n      queue.push(run.bind(null, fn, resolve, reject,...args));\n  \n      (async () =&gt; {\n        await Promise.resolve();\n  \n        if (activeCount &lt; concurrency &amp;&amp; queue.length &gt; 0) {\n          queue.shift()();\n        }\n      })();\n    };\n  \n    const generator = (fn, ...args) =&gt;\n      new Promise((resolve, reject) =&gt; {\n        enqueue(fn, resolve, reject, ...args);\n      });\n  \n    Object.defineProperties(generator, {\n      activeCount: {\n        get: () =&gt; activeCount\n      },\n      pendingCount: {\n        get: () =&gt; queue.length\n      },\n      clearQueue: {\n        value: () =&gt; {\n          queue.length = 0;\n        }\n      }\n    });\n  \n    return generator;\n  };\n  \nconst limit = pLimit(2);\n  \nfunction asyncFun(value, delay) {\n    return new Promise((resolve) =&gt; {\n        console.log(&#39;start &#39; + value);\n        setTimeout(() =&gt; resolve(value), delay);\n    });\n}\n\n(async function () {\n    const arr = [\n        limit(() =&gt; asyncFun(&#39;aaa&#39;, 2000)),\n        limit(() =&gt; asyncFun(&#39;bbb&#39;, 3000)),\n        limit(() =&gt; asyncFun(&#39;ccc&#39;, 1000)),\n        limit(() =&gt; asyncFun(&#39;ccc&#39;, 1000)),\n        limit(() =&gt; asyncFun(&#39;ccc&#39;, 1000))\n    ];\n  \n    const result = await Promise.all(arr);\n    console.log(result);\n})();\n```&quot;],&quot;filePath&quot;:[0,&quot;src/content/blog/web/设计模式.md&quot;],&quot;digest&quot;:[0,&quot;07198e55a66d54bc&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h3 id=\&quot;责任链模式\&quot;&gt;责任链模式&lt;/h3&gt;\n&lt;p&gt;避免请求者和接收者之间的耦合，让多个接收者都有机会去处理请求。将接收者组成链条，在链条中传递请求直到有接收者可以处理它。\n原始的定义中，当请求被处理后链条就终止了，但很多地方也会将请求一直传递下去，可以看作是责任链模式的变体。&lt;/p&gt;\n&lt;h3 id=\&quot;时序图\&quot;&gt;时序图&lt;/h3&gt;\n&lt;p&gt;：sender =&gt; receiver1&lt;/p&gt;&lt;div&gt;&lt;/div&gt; =&gt; receiver2&lt;div&gt;&lt;/div&gt; =&gt; receiver3&lt;div&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;link rel=\&quot;stylesheet\&quot; href=\&quot;/./_astro/ec.7l6n5.css\&quot;&gt;&lt;script type=\&quot;module\&quot; src=\&quot;/./_astro/ec.8zarh.js\&quot;&gt;&lt;/script&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;js\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;class&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;handler&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;constructor&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.handler &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; fn;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.next &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;null&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;setNext&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;h&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.next &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; h;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; h;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;12&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;passRequest&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; ()&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;13&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;ret&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.handler.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;apply&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;arguments&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;14&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;15&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 根据想要的效果修改&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;details class=\&quot;ec-section\&quot;&gt;&lt;summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 16 16\&quot; width=\&quot;16\&quot; height=\&quot;16\&quot;&gt;&lt;path d=\&quot;m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;21 collapsed lines&lt;/div&gt;&lt;/div&gt;&lt;/summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;16&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 提前结束&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;17&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (ret) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;18&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;      &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; ret;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;19&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;20&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;21&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 向后传递&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;22&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.next) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;23&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;      &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.next.passRequest.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;apply&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.next, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;arguments&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;24&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;25&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; ret;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;26&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;27&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;28&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;29&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;StdoutHandler&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;Handler&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(StdoutLogger);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;30&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;EmailHandler&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;Handler&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(EmailLogger);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;31&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;StderrHandler&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;Handler&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(StderrLogger);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;32&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;StdoutHandler.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;setNext&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(EmailHandler).&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;setNext&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(StderrHandler);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;33&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;34&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;StdoutHandler.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;passRequest&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;Entering function y.\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;DEBUG&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;35&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;StdoutHandler.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;passRequest&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;Step1 completed.\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;NOTICE&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;36&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;StdoutHandler.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;passRequest&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;An error has occurred.\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;ERR&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/details&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;class handler {  constructor(fn) {    this.handler = fn;    this.next = null;  }  setNext = (h) =&gt; {    this.next = h;    return h;  }  passRequest = ()=&gt; {    const ret = this.handler.apply(this, arguments);    // 根据想要的效果修改    // 提前结束    if (ret) {      return ret;    }    // 向后传递    if (this.next) {      this.next.passRequest.apply(this.next, arguments);    }    return ret;  }}const StdoutHandler = new Handler(StdoutLogger);const EmailHandler = new Handler(EmailLogger);const StderrHandler = new Handler(StderrLogger);StdoutHandler.setNext(EmailHandler).setNext(StderrHandler);StdoutHandler.passRequest(&amp;#x22;Entering function y.&amp;#x22;, DEBUG);StdoutHandler.passRequest(&amp;#x22;Step1 completed.&amp;#x22;, NOTICE);StdoutHandler.passRequest(&amp;#x22;An error has occurred.&amp;#x22;, ERR);\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;h3 id=\&quot;策略模式\&quot;&gt;策略模式&lt;/h3&gt;\n&lt;p&gt;策略模式作为一种软件设计模式，指对象有某个行为，但是在不同的场景中，该行为有不同的实现算法。比如每个人都要“交个人所得税”，但是“在中国交个人所得税”和“在美国交个人所得税”就有不同的算税方法。策略模式：\n定义了一族算法（业务规则）；\n封装了每个算法；\n这族的算法可互换代替（interchangeable）。&lt;/p&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;js\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;strategies&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;FirstStrategy&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;console.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;Called FirstStrategy\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;SecondStrategy&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;console.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;Called SecondStrategy\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;ThirdStrategy&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;console.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;Called ThirdStrategy\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;12&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;13&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;execute&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;strategy&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;14&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; strategies[strategy]();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;15&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;details class=\&quot;ec-section\&quot;&gt;&lt;summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 16 16\&quot; width=\&quot;16\&quot; height=\&quot;16\&quot;&gt;&lt;path d=\&quot;m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;4 collapsed lines&lt;/div&gt;&lt;/div&gt;&lt;/summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;16&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;17&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;execute&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;FirstStrategy&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;18&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;execute&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;SecondStrategy&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;19&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;execute&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;ThirdStrategy&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/details&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;const strategies = {  FirstStrategy() {    console.log(&amp;#x22;Called FirstStrategy&amp;#x22;);  },  SecondStrategy() {    console.log(&amp;#x22;Called SecondStrategy&amp;#x22;);  },  ThirdStrategy() {    console.log(&amp;#x22;Called ThirdStrategy&amp;#x22;);  }}const execute = (strategy) =&gt; {  return strategies[strategy]();}execute(&amp;#x27;FirstStrategy&amp;#x27;)execute(&amp;#x27;SecondStrategy&amp;#x27;)execute(&amp;#x27;ThirdStrategy&amp;#x27;)\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;h3 id=\&quot;代理模式\&quot;&gt;代理模式&lt;/h3&gt;\n&lt;p&gt;代理模式就是对原有对象进行扩展，从而实现对原对象的控制或者进行额外的操作，不同场景下代理模式又可以细分出很多类别：&lt;/p&gt;\n&lt;p&gt;远程代理：通过代理模式，实现像操作本地对象一样的操作远程对象。&lt;/p&gt;\n&lt;p&gt;虚拟代理：In place of a complex or heavy object, a skeleton representation may be advantageous in some cases.  常见的比如大图的加载，我们可以通过引入代理对象，先加载一张小图，大图加载完毕后再显示大图。&lt;/p&gt;\n&lt;p&gt;保护代理：将原有对象的属性访问进行权限控制。&lt;/p&gt;\n&lt;p&gt;缓存代理：引入缓存，将之前的结果进行缓存，常见的比如斐波那契数列。&lt;/p&gt;\n&lt;p&gt;…&lt;/p&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;js\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;RealImage&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;filename&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.filename &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; filename;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;loadImageFromDisk&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;console.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;Loading   &#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; filename);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;loadImageFromDisk&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;displayImage&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;: () &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;            &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;console.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;Displaying &#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; filename);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;12&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;13&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;14&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;ProxyImage&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;filename&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;15&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.filename &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; filename;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;details class=\&quot;ec-section\&quot;&gt;&lt;summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 16 16\&quot; width=\&quot;16\&quot; height=\&quot;16\&quot;&gt;&lt;path d=\&quot;m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;14 collapsed lines&lt;/div&gt;&lt;/div&gt;&lt;/summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;16&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; image &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;null&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;17&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;18&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;displayImage&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;: () &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;19&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;            &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (image &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;===&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;null&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;20&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;                &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;image &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;RealImage&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(filename);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;21&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;            &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;22&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;            &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;image.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;displayImage&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;23&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;24&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;25&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;26&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;27&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// Test&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;28&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;image&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;ProxyImage&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;HiRes_10MB_Photo1&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;29&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;image.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;displayImage&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/details&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;function RealImage(filename) {    this.filename = filename;    const loadImageFromDisk = () =&gt; {        console.log(&amp;#x27;Loading   &amp;#x27; + filename);    };    loadImageFromDisk();    return {        displayImage: () =&gt; {            console.log(&amp;#x27;Displaying &amp;#x27; + filename);        },    };}function ProxyImage(filename) {    this.filename = filename;    let image = null;    return {        displayImage: () =&gt; {            if (image === null) {                image = RealImage(filename);            }            image.displayImage();        },    };}// Testconst image = ProxyImage(&amp;#x27;HiRes_10MB_Photo1&amp;#x27;);image.displayImage();\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;p&gt;代理模式其实说简单了就是对原有对象/函数再包装一层，并且保持和原对象一致的行为。那么为什么不直接改原对象呢？&lt;/p&gt;\n&lt;p&gt;第一，可能不方便直接改原对象，所以只能采取代理模式包一层了。&lt;/p&gt;\n&lt;p&gt;第二，「单一职责原则」，如果直接修改原对象，会增加原有对象的复杂度，原对象如果负责的职责过多，引起对象改动的原因就会增多。&lt;/p&gt;\n&lt;p&gt;第三，未来如果新功能要去掉，修改起来也不方便。如果使用了代理模式，只需要把原来引用的地方还原即可。&lt;/p&gt;\n&lt;h3 id=\&quot;装饰器模式\&quot;&gt;装饰器模式&lt;/h3&gt;\n&lt;p&gt;装饰器（修饰）模式，是面向对象程式领域中，一种动态地往一个类别中添加新的行为的设计模式。就功能而言，修饰模式相比生成子类别更为灵活，这样可以给某个对象而不是整个类别添加一些功能。&lt;/p&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;js\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;SimpleMilkTea&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getCost&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;            &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;10&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getIngredients&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;            &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;MilkTea\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;12&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;13&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 加珍珠&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;14&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;WithPearl&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;milkTea&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;15&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;details class=\&quot;ec-section\&quot;&gt;&lt;summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 16 16\&quot; width=\&quot;16\&quot; height=\&quot;16\&quot;&gt;&lt;path d=\&quot;m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;54 collapsed lines&lt;/div&gt;&lt;/div&gt;&lt;/summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;16&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getCost&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;17&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;            &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; milkTea.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getCost&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;18&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;19&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;20&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getIngredients&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;21&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;            &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; milkTea.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getIngredients&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;, 加珍珠\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;22&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;23&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;24&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;25&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;26&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 加椰果&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;27&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;WithCoconut&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;milkTea&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;28&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;29&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getCost&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;30&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;            &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; milkTea.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getCost&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;31&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;32&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;33&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getIngredients&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;34&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;            &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; milkTea.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getIngredients&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;, 加椰果\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;35&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;36&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;37&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;38&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;39&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 加冰淇淋&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;40&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;WithCream&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;milkTea&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;41&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;42&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getCost&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;43&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;            &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; milkTea.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getCost&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;5&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;44&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;45&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;46&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getIngredients&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;47&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;            &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; milkTea.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getIngredients&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;, 加冰淇淋\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;48&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;49&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;50&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;51&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;52&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// test&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;53&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;printInfo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;c&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;54&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;console.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;55&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;价格: \&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; c.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getCost&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;; 加料: \&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; c.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;getIngredients&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;()&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;56&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;57&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;58&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;59&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; c &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;SimpleMilkTea&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;60&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;printInfo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(c); &lt;/span&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 价格: 10; 加料: MilkTea&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;61&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;62&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;c &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;WithPearl&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;SimpleMilkTea&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;());&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;63&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;printInfo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(c); &lt;/span&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 价格: 12; 加料: MilkTea, 加珍珠&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;64&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;65&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;c &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;WithCoconut&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;WithPearl&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;SimpleMilkTea&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;()));&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;66&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;printInfo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(c); &lt;/span&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 价格: 13; 加料: MilkTea, 加珍珠, 加椰果&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;67&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;68&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;c &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;WithCoconut&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;WithCream&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;WithPearl&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;SimpleMilkTea&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;())));&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;69&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;printInfo&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(c); &lt;/span&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 价格: 18; 加料: MilkTea, 加珍珠, 加冰淇淋, 加椰果&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/details&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;const SimpleMilkTea = () =&gt; {    return {        getCost() {            return 10;        },        getIngredients() {            return &amp;#x22;MilkTea&amp;#x22;;        },    };};// 加珍珠const WithPearl = (milkTea) =&gt; {    return {        getCost() {            return milkTea.getCost() + 2;        },        getIngredients() {            return milkTea.getIngredients() + &amp;#x22;, 加珍珠&amp;#x22;;        },    };};// 加椰果const WithCoconut = (milkTea) =&gt; {    return {        getCost() {            return milkTea.getCost() + 1;        },        getIngredients() {            return milkTea.getIngredients() + &amp;#x22;, 加椰果&amp;#x22;;        },    };};// 加冰淇淋const WithCream = (milkTea) =&gt; {    return {        getCost() {            return milkTea.getCost() + 5;        },        getIngredients() {            return milkTea.getIngredients() + &amp;#x22;, 加冰淇淋&amp;#x22;;        },    };};// testconst printInfo = (c) =&gt; {    console.log(        &amp;#x22;价格: &amp;#x22; + c.getCost() + &amp;#x22;; 加料: &amp;#x22; + c.getIngredients()    );};let c = SimpleMilkTea();printInfo(c); // 价格: 10; 加料: MilkTeac = WithPearl(SimpleMilkTea());printInfo(c); // 价格: 12; 加料: MilkTea, 加珍珠c = WithCoconut(WithPearl(SimpleMilkTea()));printInfo(c); // 价格: 13; 加料: MilkTea, 加珍珠, 加椰果c = WithCoconut(WithCream(WithPearl(SimpleMilkTea())));printInfo(c); // 价格: 18; 加料: MilkTea, 加珍珠, 加冰淇淋, 加椰果\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;p&gt;代理模式的话，对象之间的依赖关系已经写死了，原始对象 A，新增代理对象 A1， A1 的基础上再新增代理对象 A2。如果我们不想要 A1 新增的功能了，我们并不能直接使用 A2 ，因为 A2 已经包含了 A1 的功能，我们只能在 A 的基础上再新写一个代理对象 A3。&lt;/p&gt;\n&lt;p&gt;而装饰器模式，我们只提供装饰函数 A1，装饰函数 A2，然后对原始对象进行装饰 A2(A1(A))。如果不想要 A1 新增的功能，只需要把 A1 这个装饰器去掉，调用 A2(A) 即可。&lt;/p&gt;\n&lt;p&gt;所以使用代理模式还是使用装饰器模式，取决于我们是要把所有功能包装后最终产出一个对象给业务方使用，还是提供许多功能，让业务方自由组合。&lt;/p&gt;\n&lt;h3 id=\&quot;观察者模式\&quot;&gt;观察者模式&lt;/h3&gt;\n&lt;p&gt;很好理解的一个设计模式，有一个 subject 对象，然后有很多 observers 观察者对象，当 subject 对象有变化的时候去通知 observer 对象即可。\n每一个观察者都实现了 update 方法，并且调用 Subject 对象的 attach 方法订阅变化。当 Subject 变化时，调用 Observer 的 update 方法去通知观察者。&lt;/p&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;js\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;WindLiang&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;list&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; [];&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; post &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;还没更新\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;attach&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;update&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;            &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;list.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;push&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(update);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;detach&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;update&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;            &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; findIndex &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;-&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;            &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;for&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; i &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;; i &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; list.&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;length&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;; i&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;++&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;                &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (list[i] &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;===&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; update) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;12&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;                    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;findIndex &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; i;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;13&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;                    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;break&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;14&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;                &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;15&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;            &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;details class=\&quot;ec-section\&quot;&gt;&lt;summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 16 16\&quot; width=\&quot;16\&quot; height=\&quot;16\&quot;&gt;&lt;path d=\&quot;m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;42 collapsed lines&lt;/div&gt;&lt;/div&gt;&lt;/summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;16&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;            &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (findIndex &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;!==&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;-&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;17&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;                &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;list.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;splice&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(findIndex, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;18&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;            &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;19&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;20&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;notifyObserver&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;21&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;            &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;for&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; i &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;; i &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; list.&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;length&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;; i&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;++&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;22&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;                &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;list[i](post);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;23&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;            &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;24&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;25&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;writePost&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;p&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;26&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;            &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;post &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; p;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;27&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;28&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;29&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;30&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;31&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;XiaoMing&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;32&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;update&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;post&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;){&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;33&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;console.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;我收到了\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; post &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot; 并且点了个赞\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;34&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;35&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;36&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;37&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;XiaoYang&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;38&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;update&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;post&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;){&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;39&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;console.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;我收到了\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; post &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot; 并且转发了\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;40&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;41&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;42&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;43&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;XiaoGang&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;44&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;update&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;post&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;){&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;45&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;console.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;我收到了\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; post &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot; 并且收藏\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;46&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;47&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;48&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;49&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;50&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;windliang &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;WindLiang&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;51&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;52&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;windliang.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;attach&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(XiaoMing.update)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;53&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;windliang.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;attach&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(XiaoYang.update)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;54&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;windliang.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;attach&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(XiaoGang.update)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;55&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;56&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;windliang.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;writePost&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;新文章-观察者模式，balabala\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;57&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;windliang.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;notifyObserver&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;()&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/details&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;const WindLiang = () =&gt; {    const list = [];    let post = &amp;#x22;还没更新&amp;#x22;;    return {        attach(update) {            list.push(update);        },        detach(update) {            let findIndex = -1;            for (let i = 0; i &lt; list.length; i++) {                if (list[i] === update) {                    findIndex = i;                    break;                }            }            if (findIndex !== -1) {                list.splice(findIndex, 1);            }        },        notifyObserver() {            for (let i = 0; i &lt; list.length; i++) {                list[i](post);            }        },        writePost(p) {            post = p;        },    };};const XiaoMing = {    update(post){        console.log(&amp;#x22;我收到了&amp;#x22; + post + &amp;#x22; 并且点了个赞&amp;#x22;);    }}const XiaoYang = {    update(post){        console.log(&amp;#x22;我收到了&amp;#x22; + post + &amp;#x22; 并且转发了&amp;#x22;);    }}const XiaoGang = {    update(post){        console.log(&amp;#x22;我收到了&amp;#x22; + post + &amp;#x22; 并且收藏&amp;#x22;);    }}windliang = WindLiang();windliang.attach(XiaoMing.update)windliang.attach(XiaoYang.update)windliang.attach(XiaoGang.update)windliang.writePost(&amp;#x22;新文章-观察者模式，balabala&amp;#x22;)windliang.notifyObserver()\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;h3 id=\&quot;发布订阅模式\&quot;&gt;发布订阅模式&lt;/h3&gt;\n&lt;p&gt;发布订阅模式和观察者模式本质上还是一样的，并且发布订阅模式也没有在经典的设计模式书 GoF 中出现，很多地方也直接把两者看成一种设计模式了。\n观察者模式中，Subject 自己维护观察者列表进行注册和通知。\n发布订阅模式的话，引入一个中间平台进行注册和通知，相当于从 Subject 中解耦出来。&lt;/p&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame has-title\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;span class=\&quot;title\&quot;&gt;event.js&lt;/span&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;js\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;observersMap&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;listen&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;key&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;!&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;observersMap[key]) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;observersMap[key] &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; [];&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;observersMap[key].&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;push&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(fn);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;trigger&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; () {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;key&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;Array&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;prototype&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.shift.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;call&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;arguments&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;),&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;fns&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; observersMap[key];&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;!&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;fns &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;||&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; fns.&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;length&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;===&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;12&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;false&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;13&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;14&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;for&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; i &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, fn; fn &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; fns[i];i&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;++&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; ) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;details class=\&quot;ec-section\&quot;&gt;&lt;summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 16 16\&quot; width=\&quot;16\&quot; height=\&quot;16\&quot;&gt;&lt;path d=\&quot;m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;37 collapsed lines&lt;/div&gt;&lt;/div&gt;&lt;/summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;15&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;fn.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;apply&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;arguments&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;16&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;17&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;18&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;remove&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;key&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;19&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;fns&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; observersMap[key];&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;20&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;!&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;fns) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;21&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;false&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;22&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;23&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;!&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;fn) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;24&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;fns &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;&amp;#x26;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (fns.&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;length&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 全部清空&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;25&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;} &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;26&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; findIndex &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;-&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;27&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;for&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; i &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;; i &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; fns.&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;length&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;; i&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;++&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;28&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;            &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (fns[i] &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;===&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; fn) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;29&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;                &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;findIndex &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; i;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;30&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;                &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;break&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;31&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;            &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;32&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;33&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (findIndex &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;!==&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;-&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;34&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;            &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;fns.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;splice&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(findIndex, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;35&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;36&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;37&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;38&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;39&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;40&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// 同一种功能可能会见到不同名字，这里都导出去&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;41&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;EventBus&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;42&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;listen,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;43&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;attach: listen,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;44&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;on: listen,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;45&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;46&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;remove,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;47&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;detach: remove,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;48&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;49&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;trigger,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;50&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;emit: trigger,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;51&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/details&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;const observersMap = {}const listen = function (key, fn) {    if (!observersMap[key]) {        observersMap[key] = [];    }    observersMap[key].push(fn);};const trigger = function () {    const key = Array.prototype.shift.call(arguments),        fns = observersMap[key];    if (!fns || fns.length === 0) {        return false;    }    for (let i = 0, fn; fn = fns[i];i++ ) {        fn.apply(this, arguments);    }};const remove = function (key, fn) {    const fns = observersMap[key];    if (!fns) {        return false;    }    if (!fn) {        fns &amp;#x26;&amp;#x26; (fns.length = 0) // 全部清空    } else {        let findIndex = -1;        for (let i = 0; i &lt; fns.length; i++) {            if (fns[i] === fn) {                findIndex = i;                break;            }        }        if (findIndex !== -1) {            fns.splice(findIndex, 1);        }    }};// 同一种功能可能会见到不同名字，这里都导出去export const EventBus = {    listen,    attach: listen,    on: listen,    remove,    detach: remove,    trigger,    emit: trigger,};\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;js\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;import&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; { EventBus &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;as&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; EventBusOriginal } &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;from&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;./event.js\&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; offlineStack &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; []; &lt;/span&gt;&lt;span style=\&quot;--0:#99A0A6;--1:#616972\&quot;&gt;// listen 之前的 emit 事件进行缓存&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;triggerProxy&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; () {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;_self&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;args&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;arguments&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; () {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; EventBusOriginal.trigger.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;apply&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(_self, args);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (offlineStack) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;12&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; offlineStack.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;push&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(fn);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;13&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;14&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;15&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;details class=\&quot;ec-section\&quot;&gt;&lt;summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 16 16\&quot; width=\&quot;16\&quot; height=\&quot;16\&quot;&gt;&lt;path d=\&quot;m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;24 collapsed lines&lt;/div&gt;&lt;/div&gt;&lt;/summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;16&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;listenProxy&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;key&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;17&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;EventBusOriginal.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;listen&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(key, fn);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;18&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;!&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;offlineStack) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;19&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;20&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;21&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;for&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; i &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, fn; (fn &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; offlineStack[i]); i&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;++&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;22&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;23&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;24&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;offlineStack &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;null&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;25&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;26&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;27&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;28&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;listen&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; listenProxy &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;||&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; EventBus.listen;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;29&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;trigger&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; triggerProxy &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;||&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; EventBus.trigger;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;30&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;31&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;EventBus&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;32&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;...&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;EventBusOriginal,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;33&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;listen,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;34&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;attach: listen,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;35&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;on: listen,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;36&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;37&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;trigger,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;38&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;emit: trigger,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;39&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/details&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;import { EventBus as EventBusOriginal } from &amp;#x22;./event.js&amp;#x22;;let offlineStack = []; // listen 之前的 emit 事件进行缓存const triggerProxy = function () {    const _self = this;    const args = arguments;    const fn = function () {        return EventBusOriginal.trigger.apply(_self, args);    };    if (offlineStack) {        return offlineStack.push(fn);    }    return fn();};const listenProxy = function (key, fn) {    EventBusOriginal.listen(key, fn);    if(!offlineStack) {        return;    }    for (let i = 0, fn; (fn = offlineStack[i]); i++) {        fn();    }    offlineStack = null;};const listen = listenProxy || EventBus.listen;const trigger = triggerProxy || EventBus.trigger;export const EventBus = {    ...EventBusOriginal,    listen,    attach: listen,    on: listen,    trigger,    emit: trigger,};\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;p&gt;上边的解决方案很粗略，只适用于有一个事件并且只有一个 on 的场景&lt;/p&gt;\n&lt;h3 id=\&quot;依赖注入\&quot;&gt;依赖注入&lt;/h3&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;js\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;class&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;A&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;constructor&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;name&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.name &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; name;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;console.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;\&quot;name: \&quot;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.name);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;class&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;B&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;constructor&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;a&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;12&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.a &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; a;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;13&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;14&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;15&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;  &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;start&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;() {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;details class=\&quot;ec-section\&quot;&gt;&lt;summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 16 16\&quot; width=\&quot;16\&quot; height=\&quot;16\&quot;&gt;&lt;path d=\&quot;m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;7 collapsed lines&lt;/div&gt;&lt;/div&gt;&lt;/summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;16&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;this&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.a.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;17&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;18&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;19&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;20&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;a&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;A&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;21&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;b&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;B&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(a);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;22&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;b.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;start&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/details&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;class A {  constructor(name) {    this.name = name;  }  log() {    console.log(&amp;#x22;name: &amp;#x22;, this.name);  }}class B {  constructor(a) {    this.a = a;  }  start() {    this.a.log();  }}const a = new A();const b = new B(a);b.start();\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;\n&lt;h3 id=\&quot;并发控制\&quot;&gt;并发控制&lt;/h3&gt;\n&lt;div class=\&quot;expressive-code\&quot;&gt;&lt;figure class=\&quot;frame\&quot;&gt;&lt;figcaption class=\&quot;header\&quot;&gt;&lt;/figcaption&gt;&lt;pre data-language=\&quot;js\&quot;&gt;&lt;code&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;1&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;pLimit&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;concurrency&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;2&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;!&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;((Number.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;isInteger&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(concurrency) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;||&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; concurrency &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;===&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;Infinity&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;&amp;#x26;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; concurrency &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;)) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;3&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;      &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;throw&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;TypeError&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;Expected `concurrency` to be a number from 1 and up&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;4&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;5&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;6&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;queue&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; [];&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;7&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; activeCount &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;8&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;9&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;next&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;10&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;activeCount&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;--&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;11&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;12&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;      &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (queue.&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;length&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;13&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;queue.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;shift&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;()();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;14&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;15&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;details class=\&quot;ec-section\&quot;&gt;&lt;summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 16 16\&quot; width=\&quot;16\&quot; height=\&quot;16\&quot;&gt;&lt;path d=\&quot;m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt;72 collapsed lines&lt;/div&gt;&lt;/div&gt;&lt;/summary&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;16&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;17&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;run&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;async&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;resolve&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;reject&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;...&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;args&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;18&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;activeCount&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;++&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;19&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;20&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;      &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;result&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;async&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;...&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;args))();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;21&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;22&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;      &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;resolve&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(result);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;23&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;24&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;      &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;try&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;25&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;await&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; result;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;26&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;} &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;catch&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (e) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;27&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;reject&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(e)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;28&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;29&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;30&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;      &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;next&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;31&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;32&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;33&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;enqueue&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;resolve&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;...&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;args&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;34&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;queue.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;push&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(run.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;bind&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;null&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, fn, resolve, reject,&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;...&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;args));&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;35&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;36&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;async&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;37&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;await&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;Promise&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;resolve&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;38&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;39&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;if&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (activeCount &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; concurrency &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;&amp;#x26;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; queue.&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;length&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;40&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;          &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;queue.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;shift&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;()();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;41&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;42&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;})();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;43&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;44&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;45&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;generator&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;...&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;args&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;46&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;      &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;Promise&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;((&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;resolve&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;reject&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;47&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;enqueue&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(fn, resolve, reject, &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;...&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;args);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;48&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;});&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;49&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;50&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;Object.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;defineProperties&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(generator, {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;51&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;activeCount: {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;52&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;get&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;: () &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; activeCount&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;53&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;54&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;pendingCount: {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;55&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;get&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;: () &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; queue.&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;length&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;56&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;57&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;clearQueue: {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;58&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;value&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;: () &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;59&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;          &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;queue.&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;length&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;60&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;61&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;62&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;});&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;63&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;64&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; generator;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;65&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;  &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;66&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;67&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;limit&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;pLimit&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;68&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;69&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;asyncFun&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;value&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;delay&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;70&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;return&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;Promise&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;((&lt;/span&gt;&lt;span style=\&quot;--0:#FFAB70;--1:#AE4B07\&quot;&gt;resolve&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;71&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;console.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;start &#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; value);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;72&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;setTimeout&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;resolve&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(value), delay);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;73&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;});&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;74&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;75&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;76&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;async&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; () {&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;77&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;arr&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; [&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;78&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;limit&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;asyncFun&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;aaa&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;2000&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;)),&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;79&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;limit&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;asyncFun&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;bbb&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;3000&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;)),&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;80&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;limit&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;asyncFun&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;ccc&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;1000&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;)),&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;81&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;limit&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;asyncFun&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;ccc&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;1000&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;)),&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;82&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;        &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;limit&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;asyncFun&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;--0:#9ECBFF;--1:#032F62\&quot;&gt;&#39;ccc&#39;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;1000&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;))&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;83&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;];&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;84&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;85&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;    &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;result&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#F97583;--1:#BF3441\&quot;&gt;await&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt; &lt;/span&gt;&lt;span style=\&quot;--0:#79B8FF;--1:#005CC5\&quot;&gt;Promise&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;all&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(arr);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;86&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span class=\&quot;indent\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;console.&lt;/span&gt;&lt;span style=\&quot;--0:#B392F0;--1:#6F42C1\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;(result);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;ec-line\&quot;&gt;&lt;div class=\&quot;gutter\&quot;&gt;&lt;div class=\&quot;ln\&quot; aria-hidden=\&quot;true\&quot;&gt;87&lt;/div&gt;&lt;/div&gt;&lt;div class=\&quot;code\&quot;&gt;&lt;span style=\&quot;--0:#E1E4E8;--1:#24292E\&quot;&gt;})();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/details&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div class=\&quot;copy\&quot;&gt;&lt;button title=\&quot;Copy to clipboard\&quot; data-copied=\&quot;Copied!\&quot; data-code=\&quot;const pLimit = (concurrency) =&gt; {    if (!((Number.isInteger(concurrency) || concurrency === Infinity) &amp;#x26;&amp;#x26; concurrency &gt; 0)) {      throw new TypeError(&amp;#x27;Expected &amp;#x60;concurrency&amp;#x60; to be a number from 1 and up&amp;#x27;);    }    const queue = [];    let activeCount = 0;    const next = () =&gt; {      activeCount--;      if (queue.length &gt; 0) {        queue.shift()();      }    };    const run = async (fn, resolve, reject, ...args) =&gt; {      activeCount++;      const result = (async () =&gt; fn(...args))();      resolve(result);      try {        await result;      } catch (e) {        reject(e)      }      next();    };    const enqueue = (fn, resolve, ...args) =&gt; {      queue.push(run.bind(null, fn, resolve, reject,...args));      (async () =&gt; {        await Promise.resolve();        if (activeCount &lt; concurrency &amp;#x26;&amp;#x26; queue.length &gt; 0) {          queue.shift()();        }      })();    };    const generator = (fn, ...args) =&gt;      new Promise((resolve, reject) =&gt; {        enqueue(fn, resolve, reject, ...args);      });    Object.defineProperties(generator, {      activeCount: {        get: () =&gt; activeCount      },      pendingCount: {        get: () =&gt; queue.length      },      clearQueue: {        value: () =&gt; {          queue.length = 0;        }      }    });    return generator;  };const limit = pLimit(2);function asyncFun(value, delay) {    return new Promise((resolve) =&gt; {        console.log(&amp;#x27;start &amp;#x27; + value);        setTimeout(() =&gt; resolve(value), delay);    });}(async function () {    const arr = [        limit(() =&gt; asyncFun(&amp;#x27;aaa&amp;#x27;, 2000)),        limit(() =&gt; asyncFun(&amp;#x27;bbb&amp;#x27;, 3000)),        limit(() =&gt; asyncFun(&amp;#x27;ccc&amp;#x27;, 1000)),        limit(() =&gt; asyncFun(&amp;#x27;ccc&amp;#x27;, 1000)),        limit(() =&gt; asyncFun(&amp;#x27;ccc&amp;#x27;, 1000))    ];    const result = await Promise.all(arr);    console.log(result);})();\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/button&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/div&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;责任链模式&quot;],&quot;text&quot;:[0,&quot;责任链模式&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;时序图&quot;],&quot;text&quot;:[0,&quot;时序图&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;策略模式&quot;],&quot;text&quot;:[0,&quot;策略模式&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;代理模式&quot;],&quot;text&quot;:[0,&quot;代理模式&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;装饰器模式&quot;],&quot;text&quot;:[0,&quot;装饰器模式&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;观察者模式&quot;],&quot;text&quot;:[0,&quot;观察者模式&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;发布订阅模式&quot;],&quot;text&quot;:[0,&quot;发布订阅模式&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;依赖注入&quot;],&quot;text&quot;:[0,&quot;依赖注入&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;并发控制&quot;],&quot;text&quot;:[0,&quot;并发控制&quot;]}]]],&quot;imagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;设计模式&quot;],&quot;description&quot;:[0,&quot;&quot;],&quot;date&quot;:[3,&quot;2024-03-19T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;设计模式&quot;]]],&quot;category&quot;:[0,&quot;uncategorized&quot;],&quot;sticky&quot;:[0,0],&quot;mathjax&quot;:[0,false],&quot;mermaid&quot;:[0,false],&quot;draft&quot;:[0,false],&quot;toc&quot;:[0,true],&quot;donate&quot;:[0,true],&quot;comment&quot;:[0,true],&quot;lastModified&quot;:[0,&quot;2024-12-10&quot;],&quot;readingTime&quot;:[0,{&quot;text&quot;:[0,&quot;12 min read&quot;],&quot;minutes&quot;:[0,11.3],&quot;time&quot;:[0,678000],&quot;words&quot;:[0,2260]}]}]}]}],&quot;collection&quot;:[0,&quot;blog&quot;],&quot;slug&quot;:[0,&quot;web/设计模式&quot;],&quot;render&quot;:[0,null]}]]]}" ssr client="only" opts="{&quot;name&quot;:&quot;Search&quot;,&quot;value&quot;:&quot;solid-js&quot;}"></astro-island>    </div> <div> <div class="hidden xl:block space-y-6"> <div class="shadow-lg rounded-lg h-64 w-auto flex flex-col items-center justify-center bg-skin-card p-2"> <img class="avatar mb-4" src="/avatar.png" alt="avatar"> <div class="mb-2 text-center">Actions speak louder than words.</div> <div class="flex items-center justify-center flex-wrap"> <a title="telegram" href="xxxxxxx" target="_blank"> <i class="ri-telegram-fill text-2xl mr-2 cursor-pointer"></i> </a><a title="twitter" href="xxxxxxx" target="_blank"> <i class="ri-twitter-fill text-2xl mr-2 cursor-pointer"></i> </a><a title="instagram" href="xxxxxxx" target="_blank"> <i class="ri-instagram-fill text-2xl mr-2 cursor-pointer"></i> </a><a title="github" href="xxxxxxx" target="_blank"> <i class="ri-github-fill text-2xl mr-2 cursor-pointer"></i> </a><a title="rss" href="xxxxxxx" target="_blank"> <i class="ri-rss-fill text-2xl mr-2 cursor-pointer"></i> </a> </div> </div> <div> <div class="aside-widget"> <i class="ri-folder-line menu-icon"></i>分类 </div> <a class="my-1 truncate block hover:text-skin-active" title="uncategorized (8)" href="/category/uncategorized"> 未分类 (8) </a> </div> <div> <div class="aside-widget"> <i class="ri-price-tag-3-line menu-icon"></i> 标签 </div> <div class="flex flex-wrap"> <a class="inline-block truncate m-1 border p-1 text-sm rounded hover:text-skin-active" title="lerna" href="/tags/lerna">lerna</a><a class="inline-block truncate m-1 border p-1 text-sm rounded hover:text-skin-active" title="docker" href="/tags/docker">docker</a><a class="inline-block truncate m-1 border p-1 text-sm rounded hover:text-skin-active" title="error" href="/tags/error">error</a><a class="inline-block truncate m-1 border p-1 text-sm rounded hover:text-skin-active" title="git" href="/tags/git">git</a><a class="inline-block truncate m-1 border p-1 text-sm rounded hover:text-skin-active" title="h5" href="/tags/h5">h5</a><a class="inline-block truncate m-1 border p-1 text-sm rounded hover:text-skin-active" title="sh" href="/tags/sh">sh</a><a class="inline-block truncate m-1 border p-1 text-sm rounded hover:text-skin-active" title="设计模式" href="/tags/设计模式">设计模式</a> </div> </div> <div> <div class="aside-widget"> <i class="ri-file-line menu-icon"></i> 最近文章 </div> <div class="flex flex-col"> <a href="/blog/前端工程化/lerna" class="truncate cursor-pointr mt-1 hover:text-skin-active" title="lerna学习"> lerna学习 </a><a href="/blog/docker/常用命令" class="truncate cursor-pointr mt-1 hover:text-skin-active" title="常用命令"> 常用命令 </a><a href="/blog/踩坑/h5" class="truncate cursor-pointr mt-1 hover:text-skin-active" title="h5错误"> h5错误 </a><a href="/blog/基础/git" class="truncate cursor-pointr mt-1 hover:text-skin-active" title="git补充知识"> git补充知识 </a><a href="/blog/踩坑/error" class="truncate cursor-pointr mt-1 hover:text-skin-active" title="错误处理"> 错误处理 </a> </div> </div>  </div> </div> </div> <div class="footer container p-4" data-astro-cid-sz7xmlte>  <div class="flex items-center flex-wrap justify-center mb-4 text-skin-base" data-astro-cid-sz7xmlte> <div data-astro-cid-sz7xmlte> <span class="cursor-default" data-astro-cid-sz7xmlte>Copyright</span> <i class="ri-copyright-line align-middle" data-astro-cid-sz7xmlte></i> <span class="align-middle" data-astro-cid-sz7xmlte>2024</span> </div>  <div class="divider-vertical" data-astro-cid-sz7xmlte></div> <a href="/sitemap-0.xml" data-astro-cid-sz7xmlte>站点地图</a> </div> </div>  </main> <script type="module">document.body.querySelectorAll("a").forEach(e=>{e.setAttribute("rel","nofollow noreferrer")});</script> </body></html>